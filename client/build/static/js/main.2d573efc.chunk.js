(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{231:function(e,t,a){e.exports=a(469)},236:function(e,t,a){},240:function(e,t,a){},241:function(e,t,a){},371:function(e,t,a){},373:function(e,t,a){},374:function(e,t,a){},375:function(e,t,a){},378:function(e,t,a){},379:function(e,t,a){},433:function(e,t,a){},434:function(e,t,a){},435:function(e,t,a){},436:function(e,t,a){},437:function(e,t,a){},438:function(e,t,a){},439:function(e,t,a){},457:function(e,t,a){},458:function(e,t,a){},459:function(e,t,a){},460:function(e,t,a){},461:function(e,t,a){},462:function(e,t,a){},463:function(e,t,a){},464:function(e,t,a){},465:function(e,t,a){},466:function(e,t,a){},467:function(e,t,a){},468:function(e,t,a){},469:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"MakeID",(function(){return da})),a.d(n,"DisabledDate",(function(){return ma})),a.d(n,"DisabledDateBack",(function(){return pa})),a.d(n,"DisabledDateSick",(function(){return ha})),a.d(n,"GetDates",(function(){return fa})),a.d(n,"GetWorkingDate",(function(){return ga})),a.d(n,"CountTotalDay",(function(){return Ea}));var l=a(0),r=a.n(l),o=a(6),s=a.n(o),i=(a(236),a(12)),c=a(13),u=a(15),d=a(14),m=a(482),h=a(484),p=a(218),f=a(19),E=a(16),g=a(211),y=a(2),v="http://localhost:8080",b={email:"",password:""};var D={email:""};var C={loading:!0,users:[],leaves:[],balances:[{type_name:"Annual Leave",leave_remaining:12},{type_name:"Errand Leave",leave_remaining:3},{type_name:"Sick Leave",leave_remaining:30},{type_name:"Marriage Leave",leave_remaining:2},{type_name:"Other Leave",leave_remaining:2}]};var S={employee_number:"",name:"",gender:"",position:"",start_working_date:"",mobile_phone:"",email:"",password:"",role:"",supervisor_id:null};var O={loading:!0,user:{employee_number:0,name:"",gender:"",position:"",start_working_date:"",mobile_phone:"",email:"",role:"",supervisor_id:""}};var w={type_leave_id:null,reason:"",date_from:"",date_to:"",half_dates:[],total:0,back_on:null,contact_address:"",contact_number:"",notes:""};var _={employee_number:null,type_leave_id:null,reason:"",date_from:"",date_to:"",half_dates:[],total:0,back_on:null,contact_address:"",contact_number:"",notes:""};var k={loading:!0,leave:{type_leave_id:null,reason:"",date_from:"",date_to:"",half_dates:[],back_on:null,contact_address:"",contact_number:""}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_EDIT":case"EDITING_REQUEST":return Object(y.a)({},t.payload);default:return e}},I={loading:!0,leaves:[]};var R={loading:!0,leaves:[],leave:{reject_reason:""}};var L={loading:!0,leaves:[]};var x={loading:!0,userSummary:[],userType:[]};var N={loading:!0,user:[]};var T={old_password:"",new_password:"",confirm_password:""};var F={typeLeave:[]};var Y={user:{},loading:!0};var A={supervisor:[]};var P={publicHoliday:[]};var M={pickedLeave:[]};var q=Object(E.c)({loginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_FORM_ONCHANGE":return Object(y.a)({},t.payload);case"CLEAR_FIELD":return Object(y.a)({},b);default:return e}},resetPasswordReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_PASSWORD":return Object(y.a)({},t.payload);default:return e}},adminReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER":case"DELETE_USER":case"FETCH_LEAVE_PENDING":case"FETCH_LEAVE_APPROVE":case"FETCH_LEAVE_REJECT":case"CANCEL_LEAVE_REQUEST":case"FETCH_LEAVE_BALANCES":case"EDIT_BALANCES":return Object(y.a)({},t.payload);default:return e}},registerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_USER":return Object(y.a)({},t.payload);case"CLEAR_FIELD":return Object(y.a)({},S);default:return e}},editUserReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_EDIT_USER":case"EDIT_USER":return Object(y.a)({},t.payload);default:return e}},leaveRequestReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_LEAVE_REQUEST":return Object(y.a)({},t.payload);case"CLEAR_FIELD":return Object(y.a)({},w);default:return e}},adminLeaveRequestReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_LEAVE_REQUEST":return Object(y.a)({},t.payload);case"CLEAR_FIELD":return Object(y.a)({},_);default:return e}},editRequestReducer:j,fetchDirectorReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LEAVE_PENDING":case"FETCH_LEAVE_APPROVE":case"FETCH_LEAVE_REJECT":case"APPROVE_LEAVE_PENDING":case"REJECT_LEAVE_PENDING":return Object(y.a)({},t.payload);default:return e}},fetchSupervisorReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LEAVE_PENDING":case"FETCH_LEAVE_APPROVE":case"FETCH_LEAVE_REJECT":case"APPROVE_LEAVE_PENDING":case"REJECT_LEAVE_PENDING":case"REJECT_REASON":return Object(y.a)({},t.payload);default:return e}},fetchEmployeeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_REQUEST_PENDING":case"UPDATE_REQUEST_PENDING":case"DELETE_REQUEST_PENDING":case"FETCH_REQUEST_APPROVE":case"FETCH_REQUEST_REJECT":return Object(y.a)({},t.payload);default:return e}},fetchUserSummaryReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_SUMMARY":return Object(y.a)({},t.payload);default:return e}},profileReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROFILE":return Object(y.a)({},t.payload);default:return e}},passwordReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_PASSWORD":return Object(y.a)({},t.payload);default:return e}},fetchTypeLeaveReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TYPE_LEAVE":return Object(y.a)({},t.payload);default:return e}},fetchUserLoginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_LOGIN":return Object(y.a)({},t.payload);default:return e}},AddSupervisorReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SUPERVISORS":return Object(y.a)({},t.payload);default:return e}},fetchPublicHolidayReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PUBLIC_HOLIDAY":return Object(y.a)({},t.payload);default:return e}},fetchDatePickedLeaveReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PICKED_DATE_LEAVE":return Object(y.a)({},t.payload);default:return e}}}),V=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||E.d,B=Object(E.e)(q,V(Object(E.a)(g.a))),H=(a(240),a(241),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"message"},r.a.createElement("p",{className:"rotate"},"ERROR"),r.a.createElement("h1",{className:"error"},"404"),r.a.createElement("a",{className:"btn",href:"/"},"BACK TO HOME"))}}]),a}(l.Component)),U=a(17),G=a(485),W=a(69),z=a.n(W);function J(e){return{type:"LOGIN_FORM_ONCHANGE",payload:e}}function K(e,t){return function(a){fetch("".concat(v,"/api/login"),{method:"POST",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){var n=e.body,l=e.error;if(null!==l)z()({title:"Sorry",text:"".concat(l),icon:"error",button:!1});else{var r=n.Token,o=n.ID,s=n.Role;"admin"===s?(localStorage.setItem("token",r),localStorage.setItem("role",s),localStorage.setItem("id",o),t("/admin"),a({type:"CLEAR_FIELD"}),z()({title:"Welcome",text:"Login success!",icon:"success",button:!1})):"director"===s?(localStorage.setItem("token",r),localStorage.setItem("role",s),localStorage.setItem("id",o),t("/director"),a({type:"CLEAR_FIELD"}),z()({title:"Welcome",text:"Login success!",icon:"success",button:!1})):"supervisor"===s?(localStorage.setItem("token",r),localStorage.setItem("role",s),localStorage.setItem("id",o),t("/supervisor"),a({type:"CLEAR_FIELD"}),z()({title:"Welcome",text:"Login success!",icon:"success",button:!1})):"employee"===s?(localStorage.setItem("token",r),localStorage.setItem("role",s),localStorage.setItem("id",o),t("/employee"),a({type:"CLEAR_FIELD"}),z()({title:"Welcome",text:"Login success!",icon:"success",button:!1})):"admin"===s&&"director"===s&&"supervisor"===s&&"employee"===s||(t("/"),a({type:"CLEAR_FIELD"}),z()({title:"Sorry",text:"Login failed!",icon:"error",button:!1}))}})).catch((function(e){console.error("error @submitLogin: ",e)}))}}var Q=a(471),$=a(478),X=a(11),Z=a(479),ee=a(37),te=Q.a.Header,ae=Q.a.Content,ne=Q.a.Footer,le=$.a.Item,re=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleSumbitLogin=function(e){e.preventDefault(),n.props.form.validateFields((function(e,t){e||console.log("Received values of form")})),n.props.submitLogin(n.props.loginForm,(function(e){n.props.history.push(e)}))},n.handleOnChangeLogin=function(e){var t=Object(y.a)(Object(y.a)({},n.props.loginForm),{},{[e.target.name]:e.target.value});n.props.handleFormInput(t),n.props.form.setFieldsValue({[e.target.name]:e.target.value})},n.state={loading:!1,iconLoading:!1},n.handleOnChangeLogin=n.handleOnChangeLogin.bind(Object(U.a)(n)),n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Login ----------------- ")}},{key:"componentDidMount",value:function(){localStorage.getItem("token")&&"admin"===localStorage.getItem("role")?this.props.history.push("/admin"):localStorage.getItem("token")&&"director"===localStorage.getItem("role")?this.props.history.push("/director"):localStorage.getItem("token")&&"supervisor"===localStorage.getItem("role")?this.props.history.push("/supervisor"):localStorage.getItem("token")&&"employee"===localStorage.getItem("role")&&this.props.history.push("/employee"),this.props.form.validateFields()}},{key:"hasErrors",value:function(e){return Object.keys(e).some((function(t){return e[t]}))}},{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator,a=e.getFieldsError,n=e.getFieldError,l=e.isFieldTouched,o=l("email")&&n("email"),s=l("password")&&n("password");return r.a.createElement("div",null,r.a.createElement(Q.a,{className:"App"},r.a.createElement(te,{className:"App-header"},r.a.createElement("div",{className:"header-content"},r.a.createElement("h1",null,r.a.createElement(X.a,{type:"home"})," E-Leave"))),r.a.createElement(ae,{className:"container",style:{display:"flex",margin:"6.2vh 2vw",justifyContent:"center"}},r.a.createElement("div",{style:{padding:"6vh",background:"#fff","border-radius":7}},r.a.createElement($.a,{onSubmit:this.handleSumbitLogin,className:"login-form"},r.a.createElement("h1",{align:"left"},"Login to your account"),r.a.createElement(le,{validateStatus:o?"error":"",help:o||""},t("email",{rules:[{type:"email"},{required:!0}]})(r.a.createElement(Z.a,{type:"email",id:"email",name:"email",placeholder:"email",value:this.props.loginForm.email,onChange:this.handleOnChangeLogin,prefix:r.a.createElement(X.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),style:{width:"100%"}}))),r.a.createElement(le,{validateStatus:s?"error":"",help:s||""},t("password",{rules:[{required:!0}]})(r.a.createElement(Z.a,{type:"password",id:"password",name:"password",placeholder:"password",value:this.props.loginForm.password,onChange:this.handleOnChangeLogin,prefix:r.a.createElement(X.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}})}))),r.a.createElement(le,null,r.a.createElement(ee.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:this.handleSumbitLogin,disabled:this.hasErrors(a())},"LOGIN")),r.a.createElement("h3",{align:"left"},"Forgot your password ?"),"no worries, click ",r.a.createElement(G.a,{to:"/reset-password"},"here")," ","to reset your password.",r.a.createElement(le,null)))),r.a.createElement(ne,{className:"Login-footer"},r.a.createElement("p",null,r.a.createElement("a",{href:"http://www.tnis.com"},"PT. TNIS Service Indonesia")," ","\xa9 2018. All Right Reserved."))))}}]),a}(l.Component),oe=$.a.create()(re),se=Object(f.b)((function(e){return{loginForm:e.loginReducer}}),(function(e){return Object(E.b)({handleFormInput:J,submitLogin:K},e)}))(oe);function ie(){var e=localStorage.getItem("id");return function(t){fetch("".concat(v,"/api/admin/user/").concat(e,"/"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){var a=e.body,n=e.error;t(function(e){return{type:"GET_PROFILE",payload:e}}({loading:!1,user:a})),null!==n&&console.error("error not null @profileFetchData: ",n)})).catch((function(e){console.error("error @profileFetchData: ",e)}))}}function ce(){return function(e){fetch("".concat(v,"/api/user/supervisor"),{method:"GET"}).then((function(e){return e.json()})).then((function(t){var a=t.body,n=t.error,l=a.map((function(e){var t=e.employee_number;return{key:t,id:t,name:e.name}}));e(function(e){return{type:"GET_SUPERVISORS",payload:e}}({supervisor:l})),null!==n&&console.error("error not null @getSupervisors: ",n)})).catch((function(e){console.error("error @getSupervisors: ",e)}))}}var ue=a(162),de=a.n(ue),me=a(97),he=a(476),pe=a(483),fe=a(164),Ee=Q.a.Header,ge=fe.a.SubMenu,ye=Object(pe.a)((function(e){var t=e.history;return r.a.createElement(ee.a,{onClick:function(){localStorage.clear(),t.push("/")},type:"danger",ghost:!0},"Logout")})),ve=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={role:localStorage.getItem("role")},n}return Object(c.a)(a,[{key:"render",value:function(){return"employee"===this.state.role?r.a.createElement(Ee,null,r.a.createElement(fe.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],style:{lineHeight:"64px"}},r.a.createElement(fe.a.Item,{key:"1"},r.a.createElement(G.a,{to:"/employee"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"home"})),"Home")),r.a.createElement(fe.a.Item,{key:"2"},r.a.createElement(G.a,{to:"/profile"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"profile"})),"My Profile")),r.a.createElement(ge,{title:r.a.createElement("span",null,r.a.createElement(X.a,{type:"user"}),"Employee")},r.a.createElement(fe.a.Item,{key:"employee:1"},r.a.createElement(G.a,{to:"/employee/leave-request"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"form"})),"Form Request Leave")),r.a.createElement(fe.a.Item,{key:"employee:2"},r.a.createElement(G.a,{to:"/employee/list-pending-request"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"schedule"})),"List of Pending Request")),r.a.createElement(fe.a.Item,{key:"employee:3"},r.a.createElement(G.a,{to:"/employee/list-approve-request"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"schedule"})),"List of Approve Request")),r.a.createElement(fe.a.Item,{key:"employee:4"},r.a.createElement(G.a,{to:"/employee/list-reject-request"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"schedule"})),"List of Reject Request"))),r.a.createElement(fe.a.Item,{key:"4"},r.a.createElement(ye,null))),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}})):"supervisor"===this.state.role?r.a.createElement(Ee,null,r.a.createElement(fe.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],style:{lineHeight:"64px"}},r.a.createElement(fe.a.Item,{key:"1"},r.a.createElement(G.a,{to:"/"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"home"})),"Home")),r.a.createElement(fe.a.Item,{key:"2"},r.a.createElement(G.a,{to:"/profile"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"profile"})),"My Profile")),r.a.createElement(ge,{title:r.a.createElement("span",null,r.a.createElement(X.a,{type:"user"}),"Supervisor")},r.a.createElement(fe.a.Item,{key:"supervisor:1"},r.a.createElement(G.a,{to:"/supervisor/list-pending-request"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"schedule"})),"List Pending Request")),r.a.createElement(fe.a.Item,{key:"supervisor:2"},r.a.createElement(G.a,{to:"/supervisor/list-approve-request"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"schedule"})),"List Approve Request")),r.a.createElement(fe.a.Item,{key:"supervisor:3"},r.a.createElement(G.a,{to:"/supervisor/list-reject-request"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"schedule"})),"List Reject Request"))),r.a.createElement(ge,{title:r.a.createElement("span",null,r.a.createElement(X.a,{type:"user"}),"Employee")},r.a.createElement(fe.a.Item,{key:"employee:1"},r.a.createElement(G.a,{to:"/employee/leave-request"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"form"})),"Form Request Leave")),r.a.createElement(fe.a.Item,{key:"employee:2"},r.a.createElement(G.a,{to:"/employee/list-pending-request"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"schedule"})),"List Pending Request")),r.a.createElement(fe.a.Item,{key:"employee:3"},r.a.createElement(G.a,{to:"/employee/list-approve-request"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"schedule"})),"List Approve Request")),r.a.createElement(fe.a.Item,{key:"employee:4"},r.a.createElement(G.a,{to:"/employee/list-reject-request"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"schedule"})),"List Reject Request"))),r.a.createElement(fe.a.Item,{key:"10"},r.a.createElement(ye,null))),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}})):"director"===this.state.role?r.a.createElement(Ee,null,r.a.createElement(fe.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],style:{lineHeight:"64px"}},r.a.createElement(fe.a.Item,{key:"1"},r.a.createElement(G.a,{to:"/"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"home"})),"Home")),r.a.createElement(fe.a.Item,{key:"2"},r.a.createElement(G.a,{to:"/profile"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"profile"})),"My Profile")),r.a.createElement(ge,{title:r.a.createElement("span",null,r.a.createElement(X.a,{type:"user"}),"Director")},r.a.createElement(fe.a.Item,{key:"user:1"},r.a.createElement(G.a,{to:"/director/list-pending-request"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"schedule"})),"List Pending Request")),r.a.createElement(fe.a.Item,{key:"user:2"},r.a.createElement(G.a,{to:"/director/list-approve-request"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"schedule"})),"List Approve Request")),r.a.createElement(fe.a.Item,{key:"user:3"},r.a.createElement(G.a,{to:"/director/list-reject-request"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"schedule"})),"List Reject Request"))),r.a.createElement(fe.a.Item,{key:"3"},r.a.createElement(ye,null))),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}})):null}}]),a}(r.a.Component),be=(a(371),Q.a.Footer),De=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(be,{className:"App-footer"},r.a.createElement("p",null,r.a.createElement("a",{href:"http://www.tnis.com"},"PT. TNIS Service Indonesia")," \xa9 2018. All Right Reserved."))}}]),a}(r.a.Component),Ce=Q.a.Content,Se=$.a.Item,Oe=me.a.Option,we=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).editPassword=function(t,a){e.props.history.push({pathname:"/profile/"+a,state:{user:t}})},e}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Profile-Page ----------------- ")}},{key:"componentDidMount",value:function(){localStorage.getItem("token")?"employee"!==localStorage.getItem("role")&&"supervisor"!==localStorage.getItem("role")&&"director"!==localStorage.getItem("role")&&(this.props.history.push("/"),window.location.href="/"):this.props.history.push("/"),this.props.profileFetchData(),this.props.getSupervisors()}},{key:"handleBlur",value:function(){console.log("blur")}},{key:"handleFocus",value:function(){console.log("focus")}},{key:"render",value:function(){var e,t=this,a={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};return this.props.supervisor&&this.props.supervisor.map((function(a){return a.id===t.props.user.supervisor_id&&(e=a.name),a})),r.a.createElement("div",null,r.a.createElement(Q.a,null,r.a.createElement(ve,null),r.a.createElement(Ce,{className:"container",style:{display:"flex",margin:"37px 16px 0",justifyContent:"space-around",paddingBottom:"36px"}},r.a.createElement("div",{style:{padding:100,paddingBottom:50,paddingTop:50,background:"#fff"}},r.a.createElement("h1",null," My Profile "),r.a.createElement("div",null,r.a.createElement($.a,null,r.a.createElement(Se,Object.assign({},a,{label:"Name"}),r.a.createElement(Z.a,{type:"text",id:"name",name:"name",placeholder:"name",value:this.props.user.name})),r.a.createElement(Se,Object.assign({},a,{label:"Email"}),r.a.createElement(Z.a,{type:"email",id:"email",name:"email",value:this.props.user.email})),r.a.createElement(Se,Object.assign({},a,{label:"Gender"}),r.a.createElement(me.a,{id:"gender",name:"gender",optionFilterProp:"children",value:this.props.user.gender,onFocus:this.handleFocus,onBlur:this.handleBlur},r.a.createElement(Oe,{value:"male",disabled:!0},"Male"),r.a.createElement(Oe,{value:"female",disabled:!0},"Female"))),r.a.createElement(Se,Object.assign({},a,{label:"Position"}),r.a.createElement(Z.a,{type:"text",id:"position",name:"position",value:this.props.user.position})),r.a.createElement(Se,Object.assign({},a,{label:"Start Working Date"}),r.a.createElement(he.a,{id:"start_working_date",name:"start_working_date",format:"DD-MM-YYYY",value:de()(this.props.user.start_working_date,"DD-MM-YYYY"),style:{width:"100%"},disabled:!0})),r.a.createElement(Se,Object.assign({},a,{label:"Mobile Phone"}),r.a.createElement(Z.a,{type:"text",id:"mobile_phone",name:"mobile_phone",value:this.props.user.mobile_phone})),r.a.createElement(Se,Object.assign({},a,{label:"Role"}),r.a.createElement(me.a,{id:"role",name:"role",optionFilterProp:"children",onFocus:this.handleFocus,onBlur:this.handleBlur,value:this.props.user.role},r.a.createElement(Oe,{value:"employee",disabled:!0},"Employee"),r.a.createElement(Oe,{value:"supervisor",disabled:!0},"Supervisor"),r.a.createElement(Oe,{value:"dirctor",disabled:!0},"Director"))),"employee"===this.props.user.role?r.a.createElement(Se,Object.assign({},a,{label:"Supervisor"}),r.a.createElement(me.a,{id:"supervisor_id",name:"supervisor_id",optionFilterProp:"children",onFocus:this.handleFocus,onBlur:this.handleBlur,value:e},this.props.supervisor.map((function(e){return r.a.createElement(Oe,{key:e.id,disabled:!0},e.name)})))):"","0001-01-01T00:00:00Z"!==this.props.user.updated_at?r.a.createElement(Se,Object.assign({},a,{label:"Updated At"}),r.a.createElement(Z.a,{type:"text",id:"updated_at",name:"updated_at",value:de()(this.props.user.updated_at).tz("Asia/Jakarta").format("DD-MM-YYYY HH:mm")})):"",r.a.createElement(Se,null,r.a.createElement(ee.a,{onClick:function(){t.editPassword(t.props.user,t.props.user.employee_number)},htmlType:"edit",type:"primary"},"Edit Password")))))),r.a.createElement(De,null)))}}]),a}(l.Component),_e=$.a.create()(we),ke=Object(f.b)((function(e){return{loading:e.profileReducer.loading,user:e.profileReducer.user,supervisor:e.AddSupervisorReducer.supervisor}}),(function(e){return Object(E.b)({profileFetchData:ie,getSupervisors:ce},e)}))(_e),je=a(481);function Ie(e){return function(t){t({type:"RESET_PASSWORD",payload:e})}}function Re(e,t){return function(a){fetch("".concat(v,"/api/user/password-reset"),{method:"PUT",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){var a=e.body,n=e.error;null!==a?(je.a.success(a),t("/")):je.a.error(n)})).catch((function(e){console.error("error @resetPassword: ",e)}))}}var Le=Q.a.Header,xe=Q.a.Content,Ne=Q.a.Footer,Te=$.a.Item,Fe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleSumbitLogin=function(e){e.preventDefault(),n.props.form.validateFields((function(e,t){e||console.log("Received values of form: ",t)})),n.props.resetPassword(n.props.loginForm,(function(e){n.props.history.push(e)}))},n.handleOnChangeLogin=function(e){var t=Object(y.a)(Object(y.a)({},n.props.loginForm),{},{[e.target.name]:e.target.value});n.props.handleEdit(t),n.props.form.setFieldsValue({[e.target.name]:e.target.value})},n.state={loading:!1,iconLoading:!1},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Reset-Password ----------------- ")}},{key:"componentDidMount",value:function(){localStorage.getItem("token")&&"admin"===localStorage.getItem("role")?this.props.history.push("/admin"):localStorage.getItem("token")&&"director"===localStorage.getItem("role")?this.props.history.push("/director"):localStorage.getItem("token")&&"supervisor"===localStorage.getItem("role")?this.props.history.push("/supervisor"):localStorage.getItem("token")&&"employee"===localStorage.getItem("role")&&this.props.history.push("/employee"),this.props.form.validateFields()}},{key:"hasErrors",value:function(e){return Object.keys(e).some((function(t){return e[t]}))}},{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator,a=e.getFieldsError,n=e.getFieldError,l=(0,e.isFieldTouched)("email")&&n("email");return r.a.createElement("div",null,r.a.createElement(Q.a,{className:"App"},r.a.createElement(Le,{className:"App-header"},r.a.createElement("div",{className:"header-content"},r.a.createElement("h1",null,r.a.createElement(X.a,{type:"home"})," E-Leave"))),r.a.createElement(xe,{className:"container",style:{display:"flex",margin:"192px 15px ",justifyContent:"center"}},r.a.createElement("div",{style:{padding:50,background:"#fff","border-radius":7}},r.a.createElement($.a,{onSubmit:this.handleSumbitLogin,className:"login-form"},r.a.createElement("h1",{align:"left"}," Forget Password ?"),r.a.createElement("p",{align:"left"},"Enter your e-mail address below ",r.a.createElement("br",null)," so we can send back your password."),r.a.createElement(Te,{validateStatus:l?"error":"",help:l||""},t("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0}]})(r.a.createElement(Z.a,{type:"email",id:"email",name:"email",placeholder:"email",value:this.props.loginForm.email,onChange:this.handleOnChangeLogin,prefix:r.a.createElement(X.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}})}))),r.a.createElement(Te,null,r.a.createElement(ee.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:this.handleSumbitLogin,disabled:this.hasErrors(a())},"FORGOT")),r.a.createElement(G.a,{to:"/"},"back!"),r.a.createElement(Te,null)))),r.a.createElement(Ne,{className:"Login-footer"},r.a.createElement("p",null,r.a.createElement("a",{href:"http://www.tnis.com"},"PT. TNIS Service Indonesia")," ","\xa9 2018. All Right Reserved."))))}}]),a}(l.Component),Ye=$.a.create()(Fe),Ae=Object(f.b)((function(e){return{loginForm:e.resetPasswordReducer}}),(function(e){return Object(E.b)({handleEdit:Ie,resetPassword:Re},e)}))(Ye);function Pe(e){return function(t){t({type:"EDIT_PASSWORD",payload:e})}}function Me(e,t){var a=localStorage.getItem("id");return function(n){fetch("".concat(v,"/api/user/update/").concat(a),{method:"PUT",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){var a=e.body,n=e.error;null!==a?(je.a.success(a),t("/profile")):je.a.error(n)})).catch((function(e){console.error("error @updateNewPassword: ",e)}))}}var qe=Q.a.Content,Ve=$.a.Item,Be=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).updatePassword=function(e){e.preventDefault(),n.props.updateNewPassword(n.props.passwordForm,(function(e){n.props.history.push(e)})),n.props.form.validateFieldsAndScroll((function(e,t){e||console.log("Received values of form: ",t)}))},n.handleOnChange=function(e){var t=Object(y.a)(Object(y.a)({},n.props.passwordForm),{},{[e.target.name]:e.target.value});n.props.handleEdit(t)},n.handleConfirmBlur=function(e){var t=e.target.value;n.setState({confirmDirty:n.state.confirmDirty||!!t})},n.compareToFirstPassword=function(e,t,a){var l=n.props.form;t&&t!==l.getFieldValue("password")?a("Wrong confirm password!"):a()},n.validateToNextPassword=function(e,t,a){var l=n.props.form;t&&n.state.confirmDirty&&l.validateFields(["confirm"],{force:!0}),a()},n.state={from:null,to:null,endOpen:!1,confirmDirty:!1},n.handleOnChange=n.handleOnChange.bind(Object(U.a)(n)),n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Update-Password ----------------- "),localStorage.getItem("token")?"employee"!==localStorage.getItem("role")&&"supervisor"!==localStorage.getItem("role")&&"director"!==localStorage.getItem("role")&&"admin"!==localStorage.getItem("role")&&this.props.history.push("/"):this.props.history.push("/")}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{xs:{span:24},sm:{span:10}},wrapperCol:{xs:{span:24},sm:{span:10}},style:{}},a={width:"100%"};return r.a.createElement(Q.a,null,r.a.createElement(ve,null),r.a.createElement(qe,{className:"container",style:{display:"flex",margin:"20px 16px 0",justifyContent:"center",paddingBottom:"411px"}},r.a.createElement("div",{style:{padding:50,paddingBottom:50,paddingTop:50,background:"#fff"}},r.a.createElement("h1",null," UPDATE PASSWORD "),r.a.createElement($.a,{className:"login-form"},r.a.createElement(Ve,Object.assign({},t,{label:"Old Password"}),e("old password",{rules:[{required:!0},{min:7,message:"password length minimum is 7"}]})(r.a.createElement(Z.a,{type:"password",id:"old_password",name:"old_password",placeholder:"old password",onChange:this.handleOnChange,style:a}))),r.a.createElement(Ve,Object.assign({},t,{label:"New Password"}),e("password",{rules:[{required:!0},{min:7,message:"password length minimum is 7"},{validator:this.validateToNextPassword}]})(r.a.createElement(Z.a,{type:"password",id:"new_password",name:"new_password",placeholder:"new password",onChange:this.handleOnChange,style:a}))),r.a.createElement(Ve,Object.assign({},t,{label:"Confirm Password"}),e("confirm",{rules:[{required:!0},{min:7,message:"password length minimum is 7"},{validator:this.compareToFirstPassword}]})(r.a.createElement(Z.a,{type:"password",id:"confirm_password",name:"confirm_password",placeholder:"confirm password",onChange:this.handleOnChange,style:a}))),r.a.createElement(Ve,null,r.a.createElement(ee.a,{onClick:this.updatePassword,htmlType:"submit",type:"primary",style:{width:"35%"}},"Update"))))),r.a.createElement(De,null))}}]),a}(l.Component),He=$.a.create()(Be),Ue=Object(f.b)((function(e){return{passwordForm:e.passwordReducer}}),(function(e){return Object(E.b)({handleEdit:Pe,updateNewPassword:Me},e)}))(He),Ge=a(58),We=a.n(Ge),ze=a(99),Je=a(56),Ke=a.n(Je),Qe=a(20),$e=a.n(Qe);function Xe(e){return function(t){t({type:"CREATE_LEAVE_REQUEST",payload:e})}}function Ze(e,t){var a=localStorage.getItem("id");return function(n){fetch("".concat(v,"/api/employee/leave/").concat(a),{method:"POST",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){var a=e.body,l=e.error;null!==a?(n({type:"CLEAR_FIELD"}),t("/employee/list-pending-request"),je.a.success("Create leave request success")):"Type request malform"===l?je.a.error("Create failed, please check all field!"):je.a.error(l)})).catch((function(e){console.error("error @SumbitLeave: ",e)}))}}function et(e,t){var a=localStorage.getItem("id");return function(n){fetch("".concat(v,"/api/supervisor/leave/").concat(a),{method:"POST",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){var a=e.body,l=e.error;null!==a?(n({type:"CLEAR_FIELD"}),t("/employee/list-pending-request"),je.a.success("Create leave request success")):"Type request malform"===l?je.a.error("Create failed, please check all field!"):je.a.error(l)})).catch((function(e){console.error("error @SumbitLeaveSupervisor: ",e)}))}}function tt(){return function(e){fetch("".concat(v,"/api/user/type-leave/"),{method:"GET"}).then((function(e){return e.json()})).then((function(t){var a=t.body,n=t.error;e(function(e){return{type:"FETCH_TYPE_LEAVE",payload:e}}({typeLeave:a})),null!==n&&console.error("error not null @typeLeaveFetchData: ",n)})).catch((function(e){console.error("error @typeLeaveFetchData: ",e)}))}}function at(){var e=localStorage.getItem("id");return function(t){fetch("".concat(v,"/api/admin/user/").concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){var a=e.body,n=e.error;t(function(e){return{type:"FETCH_USER_LOGIN",payload:e}}({loading:!1,user:a})),null!==n&&console.error("error not null @userLoginFetchData: ",n)})).catch((function(e){console.error("error @userLoginFetchData: ",e)}))}}function nt(){return function(e){fetch("".concat(v,"/api/holidays/public"),{method:"GET"}).then((function(e){return e.json()})).then((function(t){var a=t.body,n=t.error,l=ot(a);console.log("aman pak eko 123",l),e(function(e){return{type:"FETCH_PUBLIC_HOLIDAY",payload:e}}({publicHoliday:l})),null!==n&&console.error("error not null @publicHolidayFetchData: ",n)})).catch((function(e){console.error("error @publicHolidayFetchData: ",e)}))}}function lt(){var e=localStorage.getItem("id");return function(t){fetch("".concat(v,"/api/checked-leave/").concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){var a=e.body,n=e.error,l=ot(a);console.log("aman pak eko",l),t(function(e){return{type:"FETCH_PICKED_DATE_LEAVE",payload:e}}({pickedLeave:l})),null!==n&&console.error("error not null @pickedDateLeaveFetchData: ",n)})).catch((function(e){console.error("error @pickedDateLeaveFetchData: ",e)}))}}function rt(e,t){for(var a=e+"";a.length<t;)a="0"+a;return a}function ot(e){var t=[];return e&&e.map((function(e,a){var n=e.date_start.split("-").reverse().join("-"),l=e.date_end.split("-").reverse().join("-");if(t.push(n),n!==l){var r=parseInt(n.substring(n.length-2,n.length)),o=parseInt(l.substring(l.length-2,l.length));if(r>o)r+1===o&&t.push(l);else for(var s=n.substring(0,n.length-2),i=r+1;i<=o;i++)t.push(s+rt(i,2))}return e})),t}a(373);var st,it=a(84),ct=a(128),ut=Q.a.Content,dt=$.a.Item,mt=Z.a.TextArea,ht=me.a.Option,pt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChange=function(e,t){n.setState({[e]:t})},n.radioBackDate=function(e,t){1===e.target.value?n.onChangeBackoptionMorning(t):n.onChangeBackoptionNoon(t)},n.handleOnChangeNumber=function(e,t){n.onChange(t,Number(e)),console.log("input=======>",e)},n.handleOnChange=function(e){var t=Object(y.a)(Object(y.a)({},n.props.leaveForm),{},{[e.target.name]:e.target.value});n.props.formOnChange(t)},n.handleSubmit=function(){var e=Object(ze.a)(We.a.mark((function e(t){var a,l,r;return We.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=new Date(n.state.start),l=new Date(n.state.end),st=n.countTotalDay(a,l),console.log("tanggal mulai",a),console.log("tanggal akhir",l),console.log("jumlah tanggal",st),r=Object(y.a)(Object(y.a)({},n.props.leaveForm),{},{half_dates:n.state.halfDate,total:st}),e.next=10,n.props.formOnChange(r);case 10:n.props.form.validateFields((function(e,t){e||console.log("Received values of form: ",t)})),n.props.SumbitLeave(n.props.leaveForm,(function(e){n.props.history.push(e)})),console.log("Ynag dikirim :",n.props.leaveForm);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSubmitSupervisor=function(){var e=Object(ze.a)(We.a.mark((function e(t){var a,l,r;return We.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=new Date(n.state.start),l=new Date(n.state.end),st=n.countTotalDay(a,l),console.log("tanggal mulai",a),console.log("tanggal akhir",l),console.log("jumlah tanggal",st),r=Object(y.a)(Object(y.a)({},n.props.leaveForm),{},{half_dates:n.state.halfDate,total:st}),e.next=10,n.props.formOnChange(r);case 10:n.props.form.validateFields((function(e,t){e||console.log("Received values of form: ",t)})),n.props.SumbitLeaveSupervisor(n.props.leaveForm,(function(e){n.props.history.push(e)}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleStartOpenChange=function(e){e||n.setState({endOpen:!0})},n.handleEndOpenChange=function(e){n.setState({endOpen:e})},n.handleOnChangeID=function(e){n.onChange("contactID",e)},n.handleOnChangeNumber=function(e){var t=Object(y.a)(Object(y.a)({},n.props.leaveForm),{},{contact_number:"".concat(n.state.contactID).concat(e.target.value)});n.props.formOnChange(t)},n.handleOnChangeEmployeeNumber=function(e){var t=Object(y.a)(Object(y.a)({},n.props.leaveForm),{},{employee_number:Number(e.target.value)});n.props.formOnChange(t)},n.onStartChange=function(e){if(null!==e){var t=new Date(e._d),a=("0"+(t.getMonth()+1)).slice(-2),l=("0"+t.getDate()).slice(-2),r=[l,a,t.getFullYear()].join("-"),o=[a,l,t.getFullYear()].join("-"),s=Object(y.a)(Object(y.a)({},n.props.leaveForm),{},{date_from:r});n.formTo||n.setState({formTo:!0}),n.setState({halfDate:[],halfDayChecked:!1,backOnDate:!1}),document.getElementById("halfDay").style.display="none",document.getElementById("add_half_day").disabled=!1,n.props.formOnChange(s),n.onChange("start",o)}n.onChange("from",e)},n.onEndChange=function(){var e=Object(ze.a)(We.a.mark((function e(t){var a,l,r,o,s,i;return We.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t){e.next=16;break}return a=new Date(t._d),l=("0"+(a.getMonth()+1)).slice(-2),r=("0"+a.getDate()).slice(-2),o=[r,l,a.getFullYear()].join("-"),s=[l,r,a.getFullYear()].join("-"),i=Object(y.a)(Object(y.a)({},n.props.leaveForm),{},{date_to:o}),e.next=7,n.props.formOnChange(i);case 7:n.setState({halfDate:[],halfDayChecked:!1,backOnDate:!1}),document.getElementById("add_half_day").disabled=!1,document.getElementById("halfDay").style.display="none",n.onChangeBackoptionNoon(o),console.log("Date To ",o),console.log("Date To ",i),n.onChange("end",s);case 16:n.onChange("to",t);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onBackOn=function(e){if(null!==e){var t=new Date(e._d),a=("0"+(t.getMonth()+1)).slice(-2),l=[("0"+t.getDate()).slice(-2),a,t.getFullYear()].join("-"),r=Object(y.a)(Object(y.a)({},n.props.leaveForm),{},{back_on:l,half_dates:n.state.halfDate,total:Number(n.state.totalDays)});n.props.formOnChange(r)}},n.disabledStartDate=function(e){var t=n.state.to;return!(!e||!t)&&e.valueOf()>t.valueOf()},n.disabledEndDate=function(e){var t=n.state.publicHolidayDates,a=n.state.pickedDateLeave,l=n.state.from;return!(!e||!l)&&(e.valueOf()<=l.valueOf()||t.find((function(t){return $e()(t).format("DDMMYYYY")===$e()(e).format("DDMMYYYY")}))||a.find((function(t){return $e()(t).format("DDMMYYYY")===$e()(e).format("DDMMYYYY")}))||"Saturday"===$e()(e).format("dddd")||"Sunday"===$e()(e).format("dddd"))},n.state={from:null,to:null,start:null,end:null,endOpen:!1,contactID:"+62",halfDate:[],publicHolidayDates:null,pickedDateLeave:["2019-01-01"],totalDays:0,backOnDate:!1,dateBackOn:"",toDate:null,halfDayChecked:!1},n.handleOnChange=n.handleOnChange.bind(Object(U.a)(n)),n.handleOnChangeNumber=n.handleOnChangeNumber.bind(Object(U.a)(n)),n.handleOnChangeEmployeeNumber=n.handleOnChangeEmployeeNumber.bind(Object(U.a)(n)),n.handleChangeTypeOfLeave=n.handleChangeTypeOfLeave.bind(Object(U.a)(n)),n.handleOnChangeID=n.handleOnChangeID.bind(Object(U.a)(n)),n.onChangeIsHalfDay=n.onChangeIsHalfDay.bind(Object(U.a)(n)),n.onChangeAddHalfDay=n.onChangeAddHalfDay.bind(Object(U.a)(n)),n.disabledDate=n.disabledDate.bind(Object(U.a)(n)),n.disabledDateSick=n.disabledDateSick.bind(Object(U.a)(n)),n.disabledDateBack=n.disabledDateBack.bind(Object(U.a)(n)),n.onChangeBackoptionMorning=n.onChangeBackoptionMorning.bind(Object(U.a)(n)),n.onChangeBackoptionNoon=n.onChangeBackoptionNoon.bind(Object(U.a)(n)),n.validationHolliday=n.validationHolliday.bind(Object(U.a)(n)),n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Form-Leave-Request ----------------- "),localStorage.getItem("token")?"employee"!==localStorage.getItem("role")&&"supervisor"!==localStorage.getItem("role")&&this.props.history.push("/"):this.props.history.push("/")}},{key:"componentDidMount",value:function(){this.props.typeLeaveFetchData(),this.props.userLoginFetchData(),this.props.publicHolidayFetchData(),this.props.pickedDateLeaveFetchData()}},{key:"componentWillReceiveProps",value:function(e){e.publicHoliday!==this.props.publicHoliday&&this.setState({publicHolidayDates:e.publicHoliday}),e.pickedLeave!==this.props.pickedLeave&&this.setState({pickedDateLeave:e.pickedLeave}),console.log("aalah apa lagi ===>>>",e.pickedLeave)}},{key:"componentDidUpdate",value:function(e,t){st&&t.totalDays!==st&&this.setState({totalDays:st})}},{key:"handleChangeTypeOfLeave",value:function(e){if(console.log("val",e),"11"===e||"44"===e||"55"===e){var t=Object(y.a)(Object(y.a)({},this.props.leaveForm),{},{type_leave_id:Number(e),reason:""});this.props.formOnChange(t)}else{var a=Object(y.a)(Object(y.a)({},this.props.leaveForm),{},{type_leave_id:Number(e)});this.props.formOnChange(a)}}},{key:"handleChangeSelect",value:function(e){console.log("selected=======>",e)}},{key:"onChangeAddHalfDay",value:function(e,t){var a=document.getElementById("halfDay");!0===e.target.checked?(a.style.display="block",this.setState({halfDayChecked:!0})):(a.style.display="none",this.setState({halfDayChecked:!1}),this.onChangeBackoptionNoon(t)),console.log("checked add half day = ".concat(e.target.checked))}},{key:"onChangeBackoptionMorning",value:function(e){var t=Object(y.a)(Object(y.a)({},this.props.leaveForm),{},{back_on:e});this.props.formOnChange(t),this.setState({dateBackOn:e})}},{key:"validationHolliday",value:function(e){var t=this.state.publicHolidayDates,a=this.state.pickedDateLeave;console.log("bacot 123",t),console.log("bacot",a);var n=$e()(e,"DD-MM-YYYY");return t.find((function(e){return $e()(e).format("DDMMYYYY")===$e()(n._d).format("DDMMYYYY")}))||a.find((function(e){return $e()(e).format("DDMMYYYY")===$e()(n._d).format("DDMMYYYY")}))||"Saturday"===$e()(n._d).format("dddd")||"Sunday"===$e()(n._d).format("dddd")?(n.add(1,"days"),console.log("isinya",$e()(n).format("DD-MM-YYYY")),this.validationHolliday($e()(n).format("DD-MM-YYYY"))):$e()(n).format("DD-MM-YYYY")}},{key:"onChangeBackoptionNoon",value:function(){var e=Object(ze.a)(We.a.mark((function e(t){var a,n,l;return We.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=$e()(t,"DD-MM-YYYY")).add(1,"days"),n=$e()(a).format("DD-MM-YYYY"),n=this.validationHolliday(n),console.log("cekilis 2 asoy",this.state.totalDays),l=Object(y.a)(Object(y.a)({},this.props.leaveForm),{},{back_on:n}),this.props.formOnChange(l),e.next=9,console.log("cekilis asoy",this.props.leaveForm);case 9:this.setState({dateBackOn:n});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeIsHalfDay",value:function(e,t,a){console.log("".concat(e.target.value," checked is ").concat(e.target.checked)),console.log("udah masuk",a);var n=document.getElementById("add_half_day");if(e.target.checked)n.disabled=!0,this.setState((function(t){return{halfDate:Ke()(t.halfDate,{$push:[e.target.value]})}})),e.target.value===a&&this.setState({backOnDate:!0});else{n.disabled=!1;var l=this.state.halfDate.indexOf(e.target.value);this.setState((function(e){return{halfDate:Ke()(e.halfDate,{$splice:[[l,1]]})}})),e.target.value===a&&(this.setState({backOnDate:!1}),this.onChangeBackoptionNoon(a))}}},{key:"disabledDate",value:function(e){var t=this.state.publicHolidayDates,a=this.state.pickedDateLeave;return e<$e()().startOf("day")||t.find((function(t){return $e()(t).format("DDMMYYYY")===$e()(e._d).format("DDMMYYYY")}))||a.find((function(t){return $e()(t).format("DDMMYYYY")===$e()(e._d).format("DDMMYYYY")}))||"Saturday"===$e()(e._d).format("dddd")||"Sunday"===$e()(e._d).format("dddd")}},{key:"disabledDateSick",value:function(e){var t=this.state.publicHolidayDates,a=this.state.pickedDateLeave;return e&&e<$e()().subtract(7,"days").startOf("day")||t.find((function(t){return $e()(t).format("DDMMYYYY")===$e()(e._d).format("DDMMYYYY")}))||a.find((function(t){return $e()(t).format("DDMMYYYY")===$e()(e._d).format("DDMMYYYY")}))||"Saturday"===$e()(e._d).format("dddd")||"Sunday"===$e()(e._d).format("dddd")}},{key:"disabledDateBack",value:function(e){var t=this.state.publicHolidayDates,a=this.state.pickedDateLeave;return this.state.to>e||t.find((function(t){return $e()(t).format("DDMMYYYY")===$e()(e._d).format("DDMMYYYY")}))||a.find((function(t){return $e()(t).format("DDMMYYYY")===$e()(e._d).format("DDMMYYYY")}))||"Saturday"===$e()(e._d).format("dddd")||"Sunday"===$e()(e._d).format("dddd")}},{key:"getDates",value:function(e,t){for(var a=this.state.publicHolidayDates,n=this.state.pickedDateLeave,l=new Date(e),r=new Date(t),o=[];l<=r;){var s=l.getDay();if(s<6&&s>0){var i=l.getMonth()+1;i<=9&&(i="0"+i);var c=l.getDate();c<=9&&(c="0"+c),o.push(c+"-"+i+"-"+l.getFullYear())}l.setDate(l.getDate()+1)}if(a){for(var u=[],d=0;d<a.length;d++){var m=a[d].split("-").reverse().join("-");u.push(m)}for(var h=0;h<o.length;h++)for(var p=0;p<u.length;p++)o[h]===u[p]&&o.splice(h,1)}if(n){for(var f=[],E=0;E<n.length;E++){var g=n[E].split("-").reverse().join("-");f.push(g)}for(var y=0;y<o.length;y++)for(var v=0;v<f.length;v++)o[y]===f[v]&&o.splice(y,1)}return o}},{key:"countTotalDay",value:function(e,t){for(var a=this.state.publicHolidayDates,n=this.state.pickedDateLeave,l=new Date(e),r=new Date(t),o=0,s=l.valueOf();s<=r.valueOf();s+=864e5){for(var i=new Date(s),c=void 0,u=void 0,d=0;d<a.length;d++)c=a[d],i<new Date(c)||i>new Date(c)||o++;for(var m=0;m<n.length;m++)u=n[m],i<new Date(u)||i>new Date(u)||o++;0!==i.getDay()&&6!==i.getDay()||o++}return(r-l)/864e5-o+1}},{key:"handleBlur",value:function(){console.log("blur")}},{key:"handleFocus",value:function(){console.log("focus")}},{key:"render",value:function(){var e=this,t=this.state,a=t.from,n=t.to,l=t.start,o=t.end,s=t.endOpen,i=t.backOnDate,c=this.props.form.getFieldDecorator,u=this.getDates(l,o),d=[],m=localStorage.getItem("role");console.log("Props :",this.props.leaveForm),console.log("State  :",this.state);for(var h={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}},style:{}},p={width:"100%"},f=c("prefix",{initialValue:"+62"})(r.a.createElement(me.a,{onChange:this.handleOnChangeID,style:{width:70}},r.a.createElement(ht,{value:"+62"},"+62"),r.a.createElement(ht,{value:"+66"},"+66"))),E=function(t){0!==t&&t!==u.length-1||d.push(r.a.createElement(it.a,{key:t,id:"is_half_day",name:"is_half_day",checked:e.state.halfDate.find((function(e){return e.includes(u[t])})),onChange:function(a){return e.onChangeIsHalfDay(a,u[t],u[u.length-1])},value:u[t]},u[t]),r.a.createElement("br",null))},g=0;g<u.length;g++)E(g);if(null!==this.state.start&&null!==this.state.end){var y=new Date(this.state.start),v=new Date(this.state.end);st=this.countTotalDay(y,v)}return console.log("========> isi total",this.state),r.a.createElement(Q.a,null,r.a.createElement(ve,null),r.a.createElement(ut,{className:"container",style:{display:"flex",margin:"20px 16px 0",justifyContent:"center",paddingBottom:"146px"}},r.a.createElement("div",{style:{padding:100,paddingBottom:50,paddingTop:50,background:"#fff",minHeight:360}},r.a.createElement("h1",null," Form Leave Request "),r.a.createElement($.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(dt,Object.assign({},h,{label:"Type Of Leave"}),c("type_leave_id",{rules:[{required:!0}]})(r.a.createElement(me.a,{id:"type_leave_id",name:"type_leave_id",placeholder:"Select type of leave",optionFilterProp:"children",onChange:this.handleChangeTypeOfLeave,onSelect:function(t,a){return e.handleChangeSelect(t,a)},showSearch:!0,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},onFocus:this.handleFocus,onBlur:this.handleBlur,style:p},this.props.typeLeave.map((function(e){return 22!==e.id?r.a.createElement(ht,{key:e.id,value:e.id},e.type_name):""}))))),22===this.props.leaveForm.type_leave_id||33===this.props.leaveForm.type_leave_id||66===this.props.leaveForm.type_leave_id?r.a.createElement(dt,Object.assign({},h,{label:"Reason"}),r.a.createElement(Z.a,{type:"text",id:"reason",name:"reason",placeholder:"reason",onChange:this.handleOnChange,style:p})):"",22===this.props.leaveForm.type_leave_id||33===this.props.leaveForm.type_leave_id?r.a.createElement(dt,Object.assign({},h,{label:"From"}),c("start date",{rules:[{required:!0}]})(r.a.createElement(he.a,{id:"date_from",name:"date_from",disabledDate:this.disabledDateSick,format:"DD-MM-YYYY",value:a,placeholder:"Start",onChange:this.onStartChange,onOpenChange:this.handleStartOpenChange,style:p}))):r.a.createElement(dt,Object.assign({},h,{label:"From"}),c("start date",{rules:[{required:!0}]})(r.a.createElement(he.a,{id:"date_from",name:"date_from",disabledDate:this.disabledDate,format:"DD-MM-YYYY",value:a,placeholder:"Start",onChange:this.onStartChange,onOpenChange:this.handleStartOpenChange,style:p}))),r.a.createElement(dt,Object.assign({},h,{label:"To"}),c("end date",{rules:[{required:!0}]})(r.a.createElement(he.a,{id:"date_to",name:"date_to",disabledDate:this.disabledEndDate,format:"DD-MM-YYYY",value:n,disabled:!this.state.formTo,placeholder:"End",onChange:this.onEndChange,open:s,onOpenChange:this.handleEndOpenChange,style:p}))),r.a.createElement(dt,null,r.a.createElement(it.a,{id:"add_half_day",name:"add_half_day",checked:this.state.halfDayChecked,onChange:function(t){return e.onChangeAddHalfDay(t,u[u.length-1])},style:p},"Add Half Day")),r.a.createElement("div",{id:"halfDay"},r.a.createElement(dt,Object.assign({},h,{label:"Half Day"}),d),i?r.a.createElement("div",null,r.a.createElement("row",null,r.a.createElement(ct.a.Group,{onChange:function(t){return e.radioBackDate(t,u[u.length-1])},defaultValue:2,id:"on_back_date",name:"on_back_date",style:p},r.a.createElement(ct.a,{value:1},"Morning"),r.a.createElement(ct.a,{value:2},"Afternoon")),r.a.createElement(dt,null))):r.a.createElement("div",null)),r.a.createElement(dt,Object.assign({},h,{label:"Back to work on"}),r.a.createElement(Z.a,{type:"text",id:"back_on",name:"back_on",disabled:!0,value:this.state.dateBackOn,style:{width:"100%",backgroundColor:"lightgray",color:"black"}})),r.a.createElement(dt,Object.assign({},h,{label:"Contact Address"}),c("contact address",{rules:[{required:!0}]})(r.a.createElement(mt,{type:"text",id:"contact_address",name:"contact_address",placeholder:"address, email, etc",onChange:this.handleOnChange,autosize:{minRows:2,maxRows:8},style:p}))),r.a.createElement(dt,Object.assign({},h,{label:"Contact Number"}),c("contact number",{rules:[{required:!0}]})(r.a.createElement(Z.a,{type:"text",id:"contact_number",name:"contact_number",placeholder:"Phone number",addonBefore:f,onChange:this.handleOnChangeNumber,style:p}))),"employee"===m?r.a.createElement(dt,null,r.a.createElement(ee.a,{onClick:this.handleSubmit,htmlType:"submit",type:"primary",style:{width:"35%"}},"Create")):r.a.createElement(dt,null,r.a.createElement(ee.a,{onClick:this.handleSubmitSupervisor,htmlType:"submit",type:"primary",style:{width:"35%"}},"CREATE"))))),r.a.createElement(De,null))}}]),a}(l.Component),ft=$.a.create()(pt),Et=Object(f.b)((function(e){return{leaveForm:e.leaveRequestReducer,typeLeave:e.fetchTypeLeaveReducer.typeLeave,user:e.fetchUserLoginReducer.user,publicHoliday:e.fetchPublicHolidayReducer.publicHoliday,pickedLeave:e.fetchDatePickedLeaveReducer.pickedLeave}}),(function(e){return Object(E.b)({formOnChange:Xe,SumbitLeave:Ze,SumbitLeaveSupervisor:et,typeLeaveFetchData:tt,userLoginFetchData:at,publicHolidayFetchData:nt,pickedDateLeaveFetchData:lt},e)}))(ft),gt=a(5),yt=a.n(gt);function vt(e){return function(t){t({type:"CREATE_LEAVE_REQUEST",payload:e})}}function bt(e,t){return function(a){fetch("".concat(v,"/api/admin/leave"),{method:"POST",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){var n=e.body,l=e.error;null!==n?(a({type:"CLEAR_FIELD"}),t("/admin/list-pending-request"),je.a.success("Create leave request success")):"Type request malform"===l?je.a.error("Create failed, please check all field!"):je.a.error(l)})).catch((function(e){console.error("error @AdminSumbitLeave: ",e)}))}}var Dt,Ct=Q.a.Header,St=fe.a.SubMenu,Ot=Object(pe.a)((function(e){var t=e.history;return r.a.createElement(ee.a,{onClick:function(){localStorage.clear(),t.push("/")},type:"danger",ghost:!0},"Logout")})),wt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={role:localStorage.getItem("role"),id:localStorage.getItem("id")},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ct,null,r.a.createElement(fe.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],style:{lineHeight:"64px"}},r.a.createElement(fe.a.Item,{key:"1"},r.a.createElement(G.a,{to:"/admin"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"home"})),"Home")),r.a.createElement(fe.a.Item,{key:"3"},r.a.createElement(G.a,{to:"/admin/register-user"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"form"})),"Add User")),r.a.createElement(St,{title:r.a.createElement("span",null,r.a.createElement(X.a,{type:"user"}),"Employee")},r.a.createElement(fe.a.Item,{key:"schedule:1"},r.a.createElement(G.a,{to:"/admin/leave-request"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"form"})),"Form Leave Request")),r.a.createElement(fe.a.Item,{key:"schedule:2"},r.a.createElement(G.a,{to:"/admin/list-pending-request"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"schedule"})),"List of Pending Request")),r.a.createElement(fe.a.Item,{key:"schedule:3"},r.a.createElement(G.a,{to:"/admin/list-approve-request"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"schedule"})),"List of Approve Request")),r.a.createElement(fe.a.Item,{key:"schedule:4"},r.a.createElement(G.a,{to:"/admin/list-reject-request"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"schedule"})),"List of Reject Request"))),r.a.createElement(St,{title:r.a.createElement("span",null,r.a.createElement(X.a,{type:"setting"}),"Settings")},r.a.createElement(fe.a.Item,{key:"setting:2"},r.a.createElement(G.a,{to:"/admin/edit-password"},r.a.createElement("span",null,r.a.createElement(X.a,{type:"form"})),"Change Password"))),r.a.createElement(fe.a.Item,{key:"4"},r.a.createElement(Ot,null))),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}}))}}]),a}(r.a.Component),_t=(a(374),Q.a.Content),kt=$.a.Item,jt=Z.a.TextArea,It=me.a.Option,Rt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChange=function(e,t){n.setState({[e]:t})},n.handleOnChangeNumber=function(e,t){n.onChange(t,Number(e)),console.log("input=======>",e)},n.handleSubmitSupervisor=function(e){e.preventDefault(),n.props.form.validateFields((function(e,t){e||console.log("Received values of form: ",t)})),n.props.AdminSumbitLeave(n.props.leaveForm,(function(e){n.props.history.push(e)}))},n.handleOnChange=function(e){var t=Object(y.a)(Object(y.a)({},n.props.leaveForm),{},{[e.target.name]:e.target.value});n.props.formOnChange(t)},n.handleStartOpenChange=function(e){e||n.setState({endOpen:!0})},n.handleEndOpenChange=function(e){n.setState({endOpen:e})},n.handleOnChangeID=function(e){n.onChange("contactID",e)},n.handleOnChangeNumber=function(e){var t=Object(y.a)(Object(y.a)({},n.props.leaveForm),{},{contact_number:"".concat(n.state.contactID).concat(e.target.value)});n.props.formOnChange(t)},n.handleOnChangeEmployeeNumber=function(e){var t=Object(y.a)(Object(y.a)({},n.props.leaveForm),{},{employee_number:Number(e.target.value)});n.props.formOnChange(t)},n.onStartChange=function(e){if(null!==e){var t=new Date(e._d),a=("0"+(t.getMonth()+1)).slice(-2),l=("0"+t.getDate()).slice(-2),r=[l,a,t.getFullYear()].join("-"),o=[a,l,t.getFullYear()].join("-"),s=Object(y.a)(Object(y.a)({},n.props.leaveForm),{},{date_from:r});n.props.formOnChange(s),n.onChange("start",o)}n.onChange("from",e)},n.onEndChange=function(e){if(null!==e){var t=new Date(e._d),a=("0"+(t.getMonth()+1)).slice(-2),l=("0"+t.getDate()).slice(-2),r=[l,a,t.getFullYear()].join("-"),o=[a,l,t.getFullYear()].join("-"),s=Object(y.a)(Object(y.a)({},n.props.leaveForm),{},{date_to:r});n.props.formOnChange(s),n.onChange("end",o)}n.onChange("to",e)},n.disabledStartDate=function(e){var t=n.state.to;return!(!e||!t)&&e.valueOf()>t.valueOf()},n.disabledEndDate=function(e){var t=n.state.publicHolidayDates,a=n.state.from;return!(!e||!a)&&(e.valueOf()<=a.valueOf()||t.find((function(t){return yt()(t).format("DDMMYYYY")===yt()(e).format("DDMMYYYY")}))||"Saturday"===yt()(e).format("dddd")||"Sunday"===yt()(e).format("dddd"))},n.onBackOn=function(e){if(null!==e){var t=new Date(e._d),a=("0"+(t.getMonth()+1)).slice(-2),l=[("0"+t.getDate()).slice(-2),a,t.getFullYear()].join("-"),r=Object(y.a)(Object(y.a)({},n.props.leaveForm),{},{back_on:l,half_dates:n.state.halfDate,total:Number(n.state.totalDays)});n.props.formOnChange(r)}},n.state={from:null,to:null,start:null,end:null,endOpen:!1,contactID:"+62",halfDate:[],publicHolidayDates:null,totalDays:null},n.handleOnChange=n.handleOnChange.bind(Object(U.a)(n)),n.handleOnChangeNumber=n.handleOnChangeNumber.bind(Object(U.a)(n)),n.handleOnChangeEmployeeNumber=n.handleOnChangeEmployeeNumber.bind(Object(U.a)(n)),n.handleChangeTypeOfLeave=n.handleChangeTypeOfLeave.bind(Object(U.a)(n)),n.handleOnChangeID=n.handleOnChangeID.bind(Object(U.a)(n)),n.disabledDate=n.disabledDate.bind(Object(U.a)(n)),n.disabledDateSick=n.disabledDateSick.bind(Object(U.a)(n)),n.disabledDateBack=n.disabledDateBack.bind(Object(U.a)(n)),n.onChangeIsHalfDay=n.onChangeIsHalfDay.bind(Object(U.a)(n)),n.onChangeAddHalfDay=n.onChangeAddHalfDay.bind(Object(U.a)(n)),n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Form-Leave-Request-Admin ----------------- "),localStorage.getItem("token")?"admin"!==localStorage.getItem("role")&&this.props.history.push("/"):this.props.history.push("/")}},{key:"componentDidMount",value:function(){this.props.typeLeaveFetchData(),this.props.userLoginFetchData(),this.props.publicHolidayFetchData()}},{key:"componentWillReceiveProps",value:function(e){e.publicHoliday!==this.props.publicHoliday&&this.setState({publicHolidayDates:e.publicHoliday})}},{key:"componentDidUpdate",value:function(e,t){Dt&&t.totalDays!==Dt&&this.setState({totalDays:Dt})}},{key:"handleChangeTypeOfLeave",value:function(e){if(console.log("val",e),"11"===e||"44"===e||"55"===e){var t=Object(y.a)(Object(y.a)({},this.props.leaveForm),{},{type_leave_id:Number(e),reason:""});this.props.formOnChange(t)}else{var a=Object(y.a)(Object(y.a)({},this.props.leaveForm),{},{type_leave_id:Number(e)});this.props.formOnChange(a)}}},{key:"handleChangeSelect",value:function(e){console.log("selected=======>",e)}},{key:"disabledDate",value:function(e){var t=this.state.publicHolidayDates;return e&&e<yt()().subtract(14,"days").startOf("day")||t.find((function(t){return yt()(t).format("DDMMYYYY")===yt()(e._d).format("DDMMYYYY")}))||"Saturday"===yt()(e._d).format("dddd")||"Sunday"===yt()(e._d).format("dddd")}},{key:"disabledDateSick",value:function(e){var t=this.state.publicHolidayDates;return e&&e<yt()().subtract(14,"days").startOf("day")||t.find((function(t){return yt()(t).format("DDMMYYYY")===yt()(e._d).format("DDMMYYYY")}))||"Saturday"===yt()(e._d).format("dddd")||"Sunday"===yt()(e._d).format("dddd")}},{key:"disabledDateBack",value:function(e){var t=this.state.publicHolidayDates;return this.state.to>e||t.find((function(t){return yt()(t).format("DDMMYYYY")===yt()(e._d).format("DDMMYYYY")}))||"Saturday"===yt()(e._d).format("dddd")||"Sunday"===yt()(e._d).format("dddd")}},{key:"getDates",value:function(e,t){for(var a=this.state.publicHolidayDates,n=new Date(e),l=new Date(t),r=[];n<=l;){var o=n.getDay();if(o<6&&o>0){var s=n.getMonth()+1;s<=9&&(s="0"+s);var i=n.getDate();i<=9&&(i="0"+i),r.push(i+"-"+s+"-"+n.getFullYear())}n.setDate(n.getDate()+1)}if(a){for(var c=[],u=0;u<a.length;u++){var d=a[u].split("-").reverse().join("-");c.push(d)}for(var m=0;m<r.length;m++)for(var h=0;h<c.length;h++)r[m]===c[h]&&r.splice(m,1)}return r}},{key:"countTotalDay",value:function(e,t){for(var a=this.state.publicHolidayDates,n=new Date(e),l=new Date(t),r=0,o=n.valueOf();o<=l.valueOf();o+=864e5){for(var s=new Date(o),i=void 0,c=0;c<a.length;c++)i=a[c],s<new Date(i)||s>new Date(i)||r++;0!==s.getDay()&&6!==s.getDay()||r++}return(l-n)/864e5-r+1}},{key:"onChangeAddHalfDay",value:function(e){var t=document.getElementById("halfDay");!0===e.target.checked?t.style.display="block":t.style.display="none",console.log("checked add hald day = ".concat(e.target.checked))}},{key:"onChangeIsHalfDay",value:function(e,t){if(console.log("".concat(e.target.value," checked is ").concat(e.target.checked)),e.target.checked)this.setState((function(t){return{halfDate:Ke()(t.halfDate,{$push:[e.target.value]})}}));else{var a=this.state.halfDate.indexOf(e.target.value);this.setState((function(e){return{halfDate:Ke()(e.halfDate,{$splice:[[a,1]]})}}))}}},{key:"handleBlur",value:function(){console.log("blur")}},{key:"handleFocus",value:function(){console.log("focus")}},{key:"render",value:function(){for(var e=this,t=this.state,a=t.from,n=t.to,l=t.start,o=t.end,s=t.endOpen,i=this.props.form.getFieldDecorator,c=this.getDates(l,o),u=[],d={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}},style:{}},m={width:"100%"},h=i("prefix",{initialValue:"+62"})(r.a.createElement(me.a,{onChange:this.handleOnChangeID,style:{width:70}},r.a.createElement(It,{value:"+62"},"+62"),r.a.createElement(It,{value:"+66"},"+66"))),p=function(t){u.push(r.a.createElement(it.a,{key:t,id:"is_half_day",name:"is_half_day",onChange:function(a){return e.onChangeIsHalfDay(a,c[t])},value:c[t]},c[t]),r.a.createElement("br",null))},f=0;f<c.length;f++)p(f);if(null!==this.state.start&&null!==this.state.end){var E=new Date(this.state.start),g=new Date(this.state.end);Dt=this.countTotalDay(E,g)}return console.log("========>",this.state),r.a.createElement(Q.a,null,r.a.createElement(wt,null),r.a.createElement(_t,{className:"container",style:{display:"flex",margin:"20px 16px 0",justifyContent:"center",paddingBottom:"146px"}},r.a.createElement("div",{style:{padding:100,paddingBottom:50,paddingTop:50,background:"#fff",minHeight:360}},r.a.createElement("h1",null," Form Leave Request "),r.a.createElement($.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(kt,Object.assign({},d,{label:"Employee ID"}),i("Employee ID",{rules:[{required:!0}]})(r.a.createElement(Z.a,{type:"number",id:"employee_number",name:"employee_number",placeholder:"Employee ID",onChange:this.handleOnChangeEmployeeNumber}))),r.a.createElement(kt,Object.assign({},d,{label:"Type Of Leave"}),i("type_leave_id",{rules:[{required:!0}]})(r.a.createElement(me.a,{id:"type_leave_id",name:"type_leave_id",placeholder:"Select type of leave",optionFilterProp:"children",onChange:this.handleChangeTypeOfLeave,onSelect:function(t,a){return e.handleChangeSelect(t,a)},showSearch:!0,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},onFocus:this.handleFocus,onBlur:this.handleBlur,style:m},this.props.typeLeave.map((function(e){return r.a.createElement(It,{key:e.id,value:e.id},e.type_name)}))))),22===this.props.leaveForm.type_leave_id||33===this.props.leaveForm.type_leave_id||66===this.props.leaveForm.type_leave_id?r.a.createElement(kt,Object.assign({},d,{label:"Reason"}),r.a.createElement(Z.a,{type:"text",id:"reason",name:"reason",placeholder:"reason",onChange:this.handleOnChange,style:m})):"",(22===this.props.leaveForm.type_leave_id||this.props.leaveForm.type_leave_id,r.a.createElement(kt,Object.assign({},d,{label:"From"}),i("start date",{rules:[{required:!0}]})(r.a.createElement(he.a,{id:"date_from",name:"date_from",format:"DD-MM-YYYY",value:a,placeholder:"Start",onChange:this.onStartChange,onOpenChange:this.handleStartOpenChange,style:m})))),r.a.createElement(kt,Object.assign({},d,{label:"To"}),i("end date",{rules:[{required:!0}]})(r.a.createElement(he.a,{id:"date_to",name:"date_to",disabledDate:this.disabledEndDate,format:"DD-MM-YYYY",value:n,placeholder:"End",onChange:this.onEndChange,open:s,onOpenChange:this.handleEndOpenChange,style:m}))),r.a.createElement(kt,null,r.a.createElement(it.a,{id:"add_half_day",name:"add_half_day",onChange:this.onChangeAddHalfDay,style:m},"Add Half Day")),r.a.createElement("div",{id:"halfDay"},r.a.createElement(kt,Object.assign({},d,{label:"Half Day"}),u)),r.a.createElement(kt,Object.assign({},d,{label:"Back to work on"}),i("back to work",{rules:[{required:!0}]})(r.a.createElement(he.a,{id:"back_on",name:"back_on",disabledDate:this.disabledDateBack,onChange:this.onBackOn,format:"DD-MM-YYYY",placeholder:"Back to work",style:m}))),r.a.createElement(kt,Object.assign({},d,{label:"Contact Address"}),i("contact address",{rules:[{required:!0}]})(r.a.createElement(jt,{type:"text",id:"contact_address",name:"contact_address",placeholder:"address, email, etc",onChange:this.handleOnChange,autosize:{minRows:2,maxRows:8},style:m}))),r.a.createElement(kt,Object.assign({},d,{label:"Contact Number"}),i("contact number",{rules:[{required:!0}]})(r.a.createElement(Z.a,{type:"text",id:"contact_number",name:"contact_number",placeholder:"Phone number",addonBefore:h,onChange:this.handleOnChangeNumber,style:m}))),r.a.createElement(kt,Object.assign({},d,{label:"Notes"}),i("notes",{})(r.a.createElement(jt,{type:"text",id:"notes",name:"notes",placeholder:"notes",onChange:this.handleOnChange,autosize:{minRows:2,maxRows:8},style:m}))),r.a.createElement(kt,null,r.a.createElement(ee.a,{onClick:this.handleSubmitSupervisor,htmlType:"submit",type:"primary",style:{width:"35%"}},"CREATE"))))),r.a.createElement(De,null))}}]),a}(l.Component),Lt=$.a.create()(Rt),xt=Object(f.b)((function(e){return{leaveForm:e.adminLeaveRequestReducer,typeLeave:e.fetchTypeLeaveReducer.typeLeave,user:e.fetchUserLoginReducer.user,publicHoliday:e.fetchPublicHolidayReducer.publicHoliday}}),(function(e){return Object(E.b)({formOnChange:vt,AdminSumbitLeave:bt,typeLeaveFetchData:tt,userLoginFetchData:at,publicHolidayFetchData:nt},e)}))(Lt);function Nt(e){return function(t){t(function(e){return{type:"EDITING_REQUEST",payload:e}}({loading:!1,leave:Object(y.a)({},e)}))}}function Tt(e){return function(t){t(function(e){return{type:"FETCH_EDIT",payload:e}}({loading:!1,leave:Object(y.a)({},e)}))}}function Ft(e,t){return function(a){fetch("".concat(v,"/api/employee/leave/").concat(e.id),{method:"PUT",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){var a=e.body,n=e.error;null!==a?(je.a.success(a),t("/employee/list-pending-request")):null!==n&&je.a.error(n)})).catch((function(e){console.error(e)}))}}a(375);var Yt=a(222),At=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{padding:250,justifyContent:"center"}},r.a.createElement(Yt.a,{size:"large"}))}}]),a}(r.a.Component),Pt=(a(378),Q.a.Content),Mt=Z.a.TextArea,qt=$.a.Item,Vt=me.a.Option,Bt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).saveEdit=function(e){e.preventDefault(),n.props.saveEditLeave(n.props.leave,(function(e){n.props.history.push(e)}))},n.handleOnChange=function(e){var t=Object(y.a)(Object(y.a)({},n.props.leave),{},{[e.target.name]:e.target.value});n.props.handleEdit(t)},n.disabledStartDate=function(e){var t=n.state.to;return!(!e||!t)&&e.valueOf()>t.valueOf()},n.disabledEndDate=function(e){var t=n.state.from;return!(!e||!t)&&e.valueOf()<=t.valueOf()},n.onChange=function(e,t){n.setState({[e]:t})},n.onStartChange=function(e){if(null!==e){var t=new Date(e._d),a=("0"+(t.getMonth()+1)).slice(-2),l=("0"+t.getDate()).slice(-2),r=[l,a,t.getFullYear()].join("-"),o=[a,l,t.getFullYear()].join("-"),s=Object(y.a)(Object(y.a)({},n.props.leave),{},{date_from:r});n.props.handleEdit(s),n.onChange("start",o)}n.onChange("from",e)},n.onEndChange=function(e){if(null!==e){var t=new Date(e._d),a=("0"+(t.getMonth()+1)).slice(-2),l=("0"+t.getDate()).slice(-2),r=[l,a,t.getFullYear()].join("-"),o=[a,l,t.getFullYear()].join("-"),s=Object(y.a)(Object(y.a)({},n.props.leave),{},{date_to:r});n.props.handleEdit(s),n.onChange("end",o)}n.onChange("to",e)},n.handleStartOpenChange=function(e){e||n.setState({endOpen:!0})},n.handleEndOpenChange=function(e){n.setState({endOpen:e})},n.onBackOn=function(e){if(null!==e){var t=new Date(e._d),a=("0"+(t.getMonth()+1)).slice(-2),l=[("0"+t.getDate()).slice(-2),a,t.getFullYear()].join("-"),r=Object(y.a)(Object(y.a)({},n.props.leave),{},{back_on:l,half_dates:n.state.halfDate});n.props.handleEdit(r)}},n.state={from:null,to:null,start:null,end:null,endOpen:!1,halfDate:[],datesHalf:null},n.saveEdit=n.saveEdit.bind(Object(U.a)(n)),n.handleOnChange=n.handleOnChange.bind(Object(U.a)(n)),n.handleChangeTypeOfLeave=n.handleChangeTypeOfLeave.bind(Object(U.a)(n)),n.disabledDateBack=n.disabledDateBack.bind(Object(U.a)(n)),n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Request-Leave-Edit ----------------- ")}},{key:"componentDidMount",value:function(){if("employee"!==localStorage.getItem("role")&&"supervisor"!==localStorage.getItem("role")&&this.props.history.push("/"),void 0===this.props.history.location.state)this.props.history.push("/");else{var e=Number(this.props.history.location.pathname.split("/").pop()),t=this.props.history.location.state.leave.filter((function(t){return t.id===e}));this.props.fetchedEdit(t[0]),this.props.typeLeaveFetchData()}}},{key:"componentWillReceiveProps",value:function(e){e.leave!==this.props.leave&&this.setState({start:this.formatDate($e()(e.leave.date_from,"DD-MM-YYYY")),end:this.formatDate($e()(e.leave.date_to,"DD-MM-YYYY")),datesHalf:e.leave.half_dates.toString().split(",")})}},{key:"handleChangeTypeOfLeave",value:function(e){if("11"===e||"44"===e||"55"===e){var t=Object(y.a)(Object(y.a)({},this.props.leave),{},{type_leave_id:Number(e),reason:""});this.props.handleEdit(t)}else{var a=Object(y.a)(Object(y.a)({},this.props.leave),{},{type_leave_id:Number(e)});this.props.handleEdit(a)}}},{key:"handleChangeSelect",value:function(e){console.log("selected=======>",e)}},{key:"disabledDate",value:function(e){return e&&e<$e()().startOf("day")}},{key:"disabledDateSick",value:function(e){return e&&e<$e()().subtract(7,"days").startOf("day")}},{key:"disabledDateBack",value:function(e){return this.state.to&&this.state.to>e}},{key:"formatDate",value:function(e){var t=new Date(e._d);return[("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2),t.getFullYear()].join("-")}},{key:"getDates",value:function(e,t){for(var a=new Date(e),n=new Date(t),l=[];a<=n;){var r=a.getDay();if(r<6&&r>0){var o=a.getMonth()+1;o<=9&&(o="0"+o);var s=a.getDate();s<=9&&(s="0"+s),l.push(s+"-"+o+"-"+a.getFullYear())}a.setDate(a.getDate()+1)}return l}},{key:"onChangeAddHalfDay",value:function(e){var t=document.getElementById("halfDay");!0===e.target.checked?t.style.display="block":t.style.display="none",console.log("checked add hald day = ".concat(e.target.checked))}},{key:"onChangeIsHalfDay",value:function(e,t){if(console.log("".concat(e.target.value," checked is ").concat(e.target.checked)),e.target.checked)this.setState((function(t){return{halfDate:Ke()(t.halfDate,{$push:[e.target.value]})}}));else{var a=this.state.halfDate.indexOf(e.target.value);this.setState((function(e){return{halfDate:Ke()(e.halfDate,{$splice:[[a,1]]})}}))}}},{key:"handleBlur",value:function(){console.log("blur")}},{key:"handleFocus",value:function(){console.log("focus")}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.start,l=a.end,o=a.endOpen,s=a.datesHalf,i={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}},style:{}},c={width:"100%"},u=[],d=this.getDates(n,l);if(console.log(e),null!==s){var m=function(e){var a=function(a){s[a].trim()===d[e]?u.push(r.a.createElement(it.a,{key:a,id:"is_half_day",name:"is_half_day",value:s[a],defaultChecked:!0,onChange:function(e){return t.onChangeIsHalfDay(e,s[a])}},s[a]),r.a.createElement("br",null)):u.push(r.a.createElement(it.a,{key:e,id:"is_half_day",name:"is_half_day",onChange:function(a){return t.onChangeIsHalfDay(a,d[e])},value:d[e]},d[e]),r.a.createElement("br",null))};for(var n in s)a(n)};for(var h in d)m(h)}return this.props.typeLeave.map((function(a){return a.type_name===t.props.leave.type_name&&(e=a.id),a})),this.props.loading?r.a.createElement(At,null):r.a.createElement(Q.a,null,r.a.createElement(ve,null),r.a.createElement(Pt,{className:"container",style:{display:"flex",margin:"24px 16px 0",justifyContent:"center",paddingBottom:"73px"}},r.a.createElement("div",{style:{padding:150,paddingBottom:50,paddingTop:50,background:"#fff",minHeight:360}},r.a.createElement("h1",null," Form Edit Leave Request "),r.a.createElement($.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(qt,Object.assign({},i,{label:"Type Of Leave"}),r.a.createElement(me.a,{id:"type_leave_id",name:"type_leave_id",optionFilterProp:"children",onChange:this.handleChangeTypeOfLeave,onSelect:function(e,a){return t.handleChangeSelect(e,a)},defaultValue:this.props.leave.type_name,style:c,onFocus:this.handleFocus,onBlur:this.handleBlur},this.props.typeLeave.map((function(e){return r.a.createElement(Vt,{key:e.id,value:e.id},e.type_name)})))),22===this.props.leave.type_leave_id||33===this.props.leave.type_leave_id||66===this.props.leave.type_leave_id?r.a.createElement(qt,Object.assign({},i,{label:"Reason"}),r.a.createElement(Z.a,{type:"text",id:"reason",name:"reason",placeholder:"reason",onChange:this.handleOnChange,style:c})):"",22===this.props.leave.type_leave_id||33===this.props.leave.type_leave_id?r.a.createElement(qt,Object.assign({},i,{label:"From"}),r.a.createElement(he.a,{id:"date_from",name:"date_from",format:"DD-MM-YYYY",defaultValue:$e()(this.props.leave.date_from,"DD-MM-YYYY"),onChange:this.onStartChange,onOpenChange:this.handleStartOpenChange,disabledDate:this.disabledDateSick,style:c})):r.a.createElement(qt,Object.assign({},i,{label:"From"}),r.a.createElement(he.a,{id:"date_from",name:"date_from",format:"DD-MM-YYYY",defaultValue:$e()(this.props.leave.date_from,"DD-MM-YYYY"),onChange:this.onStartChange,onOpenChange:this.handleStartOpenChange,disabledDate:this.disabledDate,style:c})),r.a.createElement(qt,Object.assign({},i,{label:"To"}),r.a.createElement(he.a,{id:"date_to",name:"date_to",format:"DD-MM-YYYY",defaultValue:$e()(this.props.leave.date_to,"DD-MM-YYYY"),onChange:this.onEndChange,open:o,onOpenChange:this.handleEndOpenChange,disabledDate:this.disabledEndDate,style:c})),r.a.createElement(qt,null,r.a.createElement(it.a,{id:"add_half_day",name:"add_half_day",onChange:this.onChangeAddHalfDay,style:c},"Add Half Day")),r.a.createElement("div",{id:"halfDay"},r.a.createElement(qt,Object.assign({},i,{label:"Half Day"}),u)),r.a.createElement(qt,Object.assign({},i,{label:"Back to work on"}),r.a.createElement(he.a,{id:"back_on",name:"back_on",format:"DD-MM-YYYY",placeholder:"Back to work",defaultValue:$e()(this.props.leave.back_on,"DD-MM-YYYY"),disabledDate:this.disabledDateBack,onChange:this.onBackOn,style:c})),r.a.createElement(qt,Object.assign({},i,{label:"Contact Address"}),r.a.createElement(Mt,{type:"text",id:"contact_address",name:"contact_address",placeholder:"contact_address, email, etc",value:this.props.leave.contact_address,onChange:this.handleOnChange,autosize:{minRows:2,maxRows:8},style:c})),r.a.createElement(qt,Object.assign({},i,{label:"Contact Number"}),r.a.createElement(Z.a,{type:"text",id:"contact_number",name:"contact_number",placeholder:"Phone number",value:this.props.leave.contact_number,onChange:this.handleOnChange,style:c})),r.a.createElement(qt,null,r.a.createElement(ee.a,{onClick:this.saveEdit,htmlType:"submit",type:"primary",style:{width:"35%"}},"EDIT"))))),r.a.createElement(De,null))}}]),a}(l.Component),Ht=$.a.create()(Bt),Ut=Object(f.b)((function(e){return{loading:e.editRequestReducer.loading,leave:e.editRequestReducer.leave,typeLeave:e.fetchTypeLeaveReducer.typeLeave}}),(function(e){return Object(E.b)({fetchedEdit:Tt,handleEdit:Nt,saveEditLeave:Ft,typeLeaveFetchData:tt},e)}))(Ht),Gt=a(39);function Wt(e){return function(t){t(function(e){return{type:"EDIT_BALANCES",payload:e}}({loading:!1,balances:e}))}}function zt(){return function(e){fetch("".concat(v,"/api/admin/user/"),{method:"GET"}).then((function(e){return e.json()})).then((function(t){var a=t.body,n=t.error;e(function(e){return{type:"FETCH_USER",payload:e}}({loading:!1,users:a})),null!==n&&console.error("error not null @adminGetUsers: ",n)})).catch((function(e){console.error("error @adminGetUsers: ",e)}))}}function Jt(e){return function(t){fetch("".concat(v,"/api/user/type-leave/").concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){var a=e.body,n=e.error;t(function(e){return{type:"FETCH_LEAVE_BALANCES",payload:e}}({loading:!1,balances:a})),null!==n&&console.error("error not null @adminEditLeaveBalances: ",n)})).catch((function(e){console.error("error @adminEditLeaveBalances: ",e)}))}}function Kt(e,t,a){return function(n){fetch("".concat(v,"/api/user/type-leave/").concat(t),{method:"POST",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){var t=e.body,n=e.error;if(null!==t)je.a.success(t),a("/admin");else if("Type request malform"===n){je.a.error("Error empty field!")}else je.a.error(n)})).catch((function(e){console.error("error @saveEditBalanceUser: ",e)}))}}function Qt(e,t){return function(a){fetch("".concat(v,"/api/admin/user/").concat(t),{method:"DELETE"}).then((function(e){return e.json()})).then((function(n){n.body;var l=n.error,r=e.filter((function(e){return e.id!==t})),o={loading:!1,users:Object(Gt.a)(r)};a(function(e){return{type:"DELETE_USER",payload:e}}(o)),null!==l&&console.error("error not null @adminDeleteUser: ",l)})).catch((function(e){console.error("error @adminDeleteUser: ",e)}))}}function $t(){return function(e){fetch("".concat(v,"/api/admin/leave/pending/"),{method:"GET"}).then((function(e){return e.json()})).then((function(t){var a=t.body,n=t.error;e(function(e){return{type:"FETCH_LEAVE_PENDING",payload:e}}({loading:!1,leaves:a})),null!==n&&console.error("error not null @fetchAdminLeavePending: ",n)})).catch((function(e){console.error("error @fetchAdminLeavePending: ",e)}))}}function Xt(){return function(e){fetch("".concat(v,"/api/admin/leave/accept/"),{method:"GET"}).then((function(e){return e.json()})).then((function(t){var a=t.body,n=t.error;e(function(e){return{type:"FETCH_LEAVE_APPROVE",payload:e}}({loading:!1,leaves:a})),null!==n&&console.error("error not null @fetchAdminLeaveApprove: ",n)})).catch((function(e){console.error("error @fetchAdminLeaveApprove: ",e)}))}}function Zt(){return function(e){fetch("".concat(v,"/api/admin/leave/reject/"),{method:"GET"}).then((function(e){return e.json()})).then((function(t){var a=t.body,n=t.error;e(function(e){return{type:"FETCH_LEAVE_REJECT",payload:e}}({loading:!1,leaves:a})),null!==n&&console.error("error not null @fetchAdminLeaveReject: ",n)})).catch((function(e){console.error("error @fetchAdminLeaveReject: ",e)}))}}function ea(e,t){return function(a){fetch("".concat(v,"/api/employee/leave/").concat(t),{method:"DELETE"}).then((function(e){return e.json()})).then((function(n){n.body;var l=n.error,r=e.filter((function(e){return e.id!==t})),o={loading:!1,leaves:Object(Gt.a)(r)};a(function(e){return{type:"DELETE_REQUEST_PENDING",payload:e}}(o)),null!==l&&console.error("error not null @deleteRequestLeave: ",l)})).catch((function(e){console.error("error @deleteRequestLeave: ",e)}))}}function ta(e,t,a){return function(n){fetch("".concat(v,"/api/admin/leave/cancel/").concat(t,"/").concat(a,"/"),{method:"PUT"}).then((function(e){return e.json()})).then((function(a){var l=a.body,r=a.error;if(null!==l){var o=e.filter((function(e){return e.id!==t})),s={loading:!1,leaves:Object(Gt.a)(o)};n(function(e){return{type:"CANCEL_LEAVE_REQUEST",payload:e}}(s)),je.a.success(l)}else je.a.error(r)})).catch((function(e){console.error("error @cancelRequestLeave: ",e)}))}}function aa(e,t){return function(a){fetch("".concat(v,"/api/leave/reports?fromDate=").concat(e,"&toDate=").concat(t),{method:"GET"}).then((function(e){return e.json()})).then((function(e){var t=e.body,a=e.error;if(null!==t){var n=window.URL.createObjectURL(new Blob([la(t)])),l=document.createElement("a");l.href=n,l.setAttribute("download","report_leave_request.xlsx"),document.body.appendChild(l),l.click(),je.a.success("Download success"),window.location.reload()}else null===t?je.a.error("Data is not available"):je.a.error(a)})).catch((function(e){console.error("error @downloadReport: ",e)}))}}function na(e,t,a){return function(n){fetch("".concat(v,"/api/leave/report/type?fromDate=").concat(e,"&toDate=").concat(t,"&typeID=").concat(a),{method:"GET"}).then((function(e){return e.json()})).then((function(e){var t=e.body,a=e.error;if(null!==t){var n=window.URL.createObjectURL(new Blob([la(t)])),l=document.createElement("a");l.href=n,l.setAttribute("download","report_leave_request_by_type_leave.xlsx"),document.body.appendChild(l),l.click(),je.a.success("Download success"),window.location.reload()}else null===t?je.a.error("Data is not available"):je.a.error(a)})).catch((function(e){console.error("error @downloadReportTypeLeave: ",e)}))}}function la(e){var t="object"!==typeof e?JSON.parse(e):e,a="".concat(Object.keys(t[0]).map((function(e){return'"'.concat(e,'"')})).join(","))+"\r\n";return t.reduce((function(e,t){return e+="".concat(Object.values(t).map((function(e){return'"'.concat(e,'"')})).join(","))+"\r\n"}),a)}a(379);var ra=a(472),oa=a(473),sa=a(477),ia=Q.a.Content,ca=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).editUser=function(e,t){n.props.history.push({pathname:"/admin/edit-user/"+t,state:{users:e}})},n.editBalance=function(e){n.props.history.push({pathname:"/admin/edit-balance/"+e})},n.adminDeleteUser=function(e,t){n.props.adminDeleteUser(e,t)},n.columns=[{title:"Employee ID",dataIndex:"employee_number",key:"employee_number",width:"10%"},{title:"Name",dataIndex:"name",key:"name",width:"20%"},{title:"Email",dataIndex:"email",key:"email",width:"15%"},{title:"Position",dataIndex:"position",key:"position",width:"15%"},{title:"Role",dataIndex:"role",key:"role",width:"10%"},{title:"Action",key:"action",width:"25%",render:function(e,t){return r.a.createElement("span",null,r.a.createElement(ee.a,{onClick:function(){n.editUser(n.props.users,t.employee_number)},type:"primary"},"Edit"),r.a.createElement(ra.a,{type:"vertical"}),r.a.createElement(oa.a,{placement:"top",title:"Are you sure delete this employee?",onConfirm:function(){n.adminDeleteUser(n.props.users,t.employee_number),je.a.success("Employee has been delete!")},okText:"Yes",cancelText:"No"},r.a.createElement(ee.a,{type:"danger"},"Delete")),r.a.createElement(ra.a,{type:"vertical"}),"supervisor"===t.role||"employee"===t.role?r.a.createElement(ee.a,{onClick:function(){n.editBalance(t.employee_number)},type:"primary"},"Edit Leave Balance"):"")}}],n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Admin-Page ----------------- ")}},{key:"componentDidMount",value:function(){"admin"!==localStorage.getItem("role")&&this.props.history.push("/"),this.props.adminGetUsers()}},{key:"onShowSizeChange",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.props.loading?r.a.createElement(At,null):r.a.createElement("div",null,r.a.createElement(Q.a,{className:"layout"},r.a.createElement(wt,null),r.a.createElement(ia,{className:"container",style:{display:"flex",margin:"20px 15px 0",justifyContent:"center",paddingBottom:70}},r.a.createElement("div",{style:{padding:"20px",backgroundColor:"#fff",width:"1700px"}},r.a.createElement(sa.a,{columns:this.columns,dataSource:this.props.users,rowKey:function(e){return e.employee_number},pagination:{className:"my-pagination",defaultCurrent:1,defaultPageSize:10,total:"".concat(this.props.users&&this.props.users.length)}}))),r.a.createElement(De,null)))}}]),a}(l.Component),ua=Object(f.b)((function(e){return{loading:e.adminReducer.loading,users:e.adminReducer.users}}),(function(e){return Object(E.b)({adminGetUsers:zt,adminDeleteUser:Qt},e)}))(ca);function da(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*?",a=0;a<7;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function ma(e,t){return e<yt()().startOf("day")||t.find((function(t){return yt()(t).format("DDMMYYYY")===yt()(e._d).format("DDMMYYYY")}))||"Saturday"===yt()(e._d).format("dddd")||"Sunday"===yt()(e._d).format("dddd")}function ha(e,t){return e&&e<yt()().subtract(7,"days").startOf("day")||t.find((function(t){return yt()(t).format("DDMMYYYY")===yt()(e._d).format("DDMMYYYY")}))||"Saturday"===yt()(e._d).format("dddd")||"Sunday"===yt()(e._d).format("dddd")}function pa(e,t){return this.state.to>e||t.find((function(t){return yt()(t).format("DDMMYYYY")===yt()(e._d).format("DDMMYYYY")}))||"Saturday"===yt()(e._d).format("dddd")||"Sunday"===yt()(e._d).format("dddd")}function fa(e,t,a){for(var n=new Date(e),l=new Date(t),r=[];n<=l;){var o=n.getDay();if(o<6&&o>0){var s=n.getMonth()+1;s<=9&&(s="0"+s);var i=n.getDate();i<=9&&(i="0"+i),r.push(i+"-"+s+"-"+n.getFullYear())}n.setDate(n.getDate()+1)}if(a){for(var c=[],u=0;u<a.length;u++){var d=a[u].split("-").reverse().join("-");c.push(d)}for(var m=0;m<r.length;m++)for(var h=0;h<c.length;h++)r[m]===c[h]&&r.splice(m,1)}return r}function Ea(e,t,a){for(var n=new Date(e),l=new Date(t),r=0,o=n.valueOf();o<=l.valueOf();o+=864e5){for(var s=new Date(o),i=void 0,c=0;c<a.length;c++)i=a[c],s<new Date(i)||s>new Date(i)||r++;0!==s.getDay()&&6!==s.getDay()||r++}return(l-n)/864e5-r+1}function ga(e){var t=new Date,a=t.getDate(),n=t.getMonth()+1,l=t.getFullYear();a<10&&(a="0"+a),n<10&&(n="0"+n);var r="".concat(a,"-").concat(n,"-").concat(l),o=yt()("".concat(e),"DD-MM-YYYY");return yt()("".concat(r),"DD-MM-YYYY").diff(o,"days")}function ya(e){return function(t){t({type:"REGISTER_USER",payload:e})}}function va(e){return{type:"CLEAR_FIELD"}}function ba(e,t){return function(a){fetch("".concat(v,"/api/admin/user/register"),{method:"POST",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){var n=e.body,l=e.error;if(null!==n)a(va),t("/admin"),je.a.success(n);else if("Type request malform"===l){je.a.error("Error empty field!")}else je.a.error(l)})).catch((function(e){console.error("error @SumbitSignUp: ",e)}))}}a(433);var Da=Q.a.Content,Ca=$.a.Item,Sa=me.a.Option,Oa=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var l;return Object(i.a)(this,a),(l=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),l.props.form.validateFields((function(e,t){e||console.log("Received values of form: ",t)})),l.props.registerUser(l.props.signupForm,(function(e){l.props.history.push(e)}))},l.handleOnChange=function(e){var t=Object(y.a)(Object(y.a)({},l.props.signupForm),{},{[e.target.name]:e.target.value});l.props.formOnchange(t),l.props.form.setFieldsValue({[e.target.name]:e.target.value})},l.handleOnChangeEmployeeNumber=function(e){var t=Object(y.a)(Object(y.a)({},l.props.signupForm),{},{employee_number:Number(e.target.value),password:n.MakeID()});l.props.formOnchange(t)},l.onStartWorking=function(e){if(null!==e){var t=new Date(e._d),a=("0"+(t.getMonth()+1)).slice(-2),n=[("0"+t.getDate()).slice(-2),a,t.getFullYear()].join("-"),r=Object(y.a)(Object(y.a)({},l.props.signupForm),{},{start_working_date:n});l.props.formOnchange(r)}},l.handleOnChangeID=function(e){l.setState({contactID:e})},l.handleOnChangePhone=function(e){var t=Object(y.a)(Object(y.a)({},l.props.signupForm),{},{mobile_phone:"".concat(l.state.contactID).concat(e.target.value)});l.props.formOnchange(t)},l.state={contactID:"+62"},l.handleOnChange=l.handleOnChange.bind(Object(U.a)(l)),l.handleOnChangeEmployeeNumber=l.handleOnChangeEmployeeNumber.bind(Object(U.a)(l)),l.handleChangeGender=l.handleChangeGender.bind(Object(U.a)(l)),l.handleChangeRole=l.handleChangeRole.bind(Object(U.a)(l)),l.handleChangeSupervisor=l.handleChangeSupervisor.bind(Object(U.a)(l)),l.onStartWorking=l.onStartWorking.bind(Object(U.a)(l)),l.handleOnChangeID=l.handleOnChangeID.bind(Object(U.a)(l)),l.handleOnChangePhone=l.handleOnChangePhone.bind(Object(U.a)(l)),l}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Register-User ----------------- "),localStorage.getItem("token")?"admin"!==localStorage.getItem("role")&&this.props.history.push("/"):this.props.history.push("/")}},{key:"componentDidMount",value:function(){this.props.getSupervisors()}},{key:"handleChangeGender",value:function(e){var t=Object(y.a)(Object(y.a)({},this.props.signupForm),{},{gender:e});this.props.formOnchange(t)}},{key:"handleChangeRole",value:function(e){if("employee"===e){var t=Object(y.a)(Object(y.a)({},this.props.signupForm),{},{role:e});this.props.formOnchange(t)}else{var a=Object(y.a)(Object(y.a)({},this.props.signupForm),{},{role:e,supervisor_id:Number()});this.props.formOnchange(a)}}},{key:"handleChangeSupervisor",value:function(e){console.log(e);var t=Object(y.a)(Object(y.a)({},this.props.signupForm),{},{supervisor_id:Number(e)});this.props.formOnchange(t)}},{key:"handleChangeSelect",value:function(e){console.log("selected=======>",e)}},{key:"handleBlur",value:function(){console.log("blur")}},{key:"handleFocus",value:function(){console.log("focus")}},{key:"makeid",value:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*?",a=0;a<7;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},n=t("prefix",{initialValue:"+62"})(r.a.createElement(me.a,{onChange:this.handleOnChangeID,style:{width:70}},r.a.createElement(Sa,{value:"+62"},"+62"),r.a.createElement(Sa,{value:"+66"},"+66")));return r.a.createElement("div",null,r.a.createElement(Q.a,null,r.a.createElement(wt,null),r.a.createElement(Da,{className:"container",style:{display:"flex",margin:"20px 16px 0",justifyContent:"center",paddingBottom:"96px"}},r.a.createElement("div",{style:{padding:100,paddingBottom:50,paddingTop:50,background:"#fff",minHeight:360}},r.a.createElement("h1",null," REGISTER USER "),r.a.createElement("div",null,r.a.createElement($.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(Ca,Object.assign({},a,{label:"Employee ID"}),t("Employee ID",{rules:[{required:!0}]})(r.a.createElement(Z.a,{type:"number",id:"employee_number",name:"employee_number",placeholder:"Employee ID",onChange:this.handleOnChangeEmployeeNumber}))),r.a.createElement(Ca,Object.assign({},a,{label:"Full Name"}),t("name",{rules:[{required:!0}]})(r.a.createElement(Z.a,{type:"text",id:"name",name:"name",placeholder:"name",onChange:this.handleOnChange}))),r.a.createElement(Ca,Object.assign({},a,{label:"Email"}),t("email",{rules:[{type:"email"},{required:!0}]})(r.a.createElement(Z.a,{type:"email",id:"email",name:"email",placeholder:"email",onChange:this.handleOnChange}))),r.a.createElement(Ca,Object.assign({},a,{label:"Gender"}),t("gender",{rules:[{required:!0}]})(r.a.createElement(me.a,{id:"gender",name:"gender",placeholder:"Select gender",optionFilterProp:"children",onChange:this.handleChangeGender,onSelect:function(t,a){return e.handleChangeSelect(t,a)},showSearch:!0,onFocus:this.handleFocus,onBlur:this.handleBlur,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},r.a.createElement(Sa,{value:"Male"},"Male"),r.a.createElement(Sa,{value:"Female"},"Female")))),r.a.createElement(Ca,Object.assign({},a,{label:"Position"}),t("position",{rules:[{required:!0}]})(r.a.createElement(Z.a,{type:"text",id:"position",name:"position",placeholder:"position",onChange:this.handleOnChange}))),r.a.createElement(Ca,Object.assign({},a,{label:"Start Working Date"}),t("start working date",{rules:[{required:!0}]})(r.a.createElement(he.a,{id:"start_working_date",name:"start_working_date",onChange:this.onStartWorking,format:"DD-MM-YYYY",placeholder:"start working date",style:{width:"100%"}}))),r.a.createElement(Ca,Object.assign({},a,{label:"Mobile Phone"}),t("mobile phone",{rules:[{required:!0}]})(r.a.createElement(Z.a,{type:"text",id:"mobile_phone",name:"mobile_phone",placeholder:"mobile phone",addonBefore:n,onChange:this.handleOnChangePhone}))),r.a.createElement(Ca,Object.assign({},a,{label:"Role"}),t("role",{rules:[{required:!0}]})(r.a.createElement(me.a,{id:"role",name:"role",placeholder:"Select Role",optionFilterProp:"children",onChange:this.handleChangeRole,onSelect:function(t,a){return e.handleChangeSelect(t,a)},showSearch:!0,onFocus:this.handleFocus,onBlur:this.handleBlur,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},r.a.createElement(Sa,{value:"employee"},"Employee"),r.a.createElement(Sa,{value:"supervisor"},"Supervisor"),r.a.createElement(Sa,{value:"director"},"Director")))),"employee"===this.props.signupForm.role?r.a.createElement(Ca,Object.assign({},a,{label:"Supervisor"}),r.a.createElement(me.a,{id:"supervisor_id",name:"supervisor_id",placeholder:"Select Supervisor",optionFilterProp:"children",onChange:this.handleChangeSupervisor,onSelect:function(t,a){return e.handleChangeSelect(t,a)},showSearch:!0,onFocus:this.handleFocus,onBlur:this.handleBlur,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.props.supervisor?this.props.supervisor.map((function(e){return r.a.createElement(Sa,{key:e.id,value:e.id},e.name)})):"")):"",r.a.createElement(Z.a,{type:"password",id:"password",name:"password",placeholder:"password",onChange:this.handleOnChange,disabled:!0,style:{display:"none"}}),r.a.createElement(Ca,null,r.a.createElement(ee.a,{onClick:this.handleSubmit,htmlType:"submit",type:"primary"}," ","CREATE")))))),r.a.createElement(De,{style:{textAlign:"center"}},r.a.createElement("p",null,r.a.createElement("a",{href:"http://opensource.org/licenses/mit-license.php"}," MIT"),". The website content is licensed"," ",r.a.createElement("a",{href:"http://creativecommons.org/licenses/by-nc-sa/4.0/"},"CC BY NC SA 4.0"),"."))))}}]),a}(l.Component),wa=$.a.create()(Oa),_a=Object(f.b)((function(e){return{signupForm:e.registerReducer,supervisor:e.AddSupervisorReducer.supervisor}}),(function(e){return Object(E.b)({formOnchange:ya,registerUser:ba,getSupervisors:ce},e)}))(wa);function ka(e){return function(t){t(function(e){return{type:"EDIT_USER",payload:e}}({loading:!1,user:Object(y.a)({},e)}))}}function ja(e){return function(t){t(function(e){return{type:"FETCH_EDIT_USER",payload:e}}({loading:!1,user:Object(y.a)({},e)}))}}function Ia(e,t){return function(a){fetch("".concat(v,"/api/admin/user/").concat(e.employee_number),{method:"PUT",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){var a=e.body,n=e.error;null!==a?(je.a.success(a),t("/admin")):je.a.error(n)})).catch((function(e){console.error("err @saveEditUser: ",e)}))}}a(434);var Ra,La,xa,Na=Q.a.Content,Ta=$.a.Item,Fa=me.a.Option,Ya=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).saveEdit=function(){console.log(n.props.user),n.props.saveEditUser(n.props.user,(function(e){n.props.history.push(e)}))},n.handleOnChange=function(e){var t=Object(y.a)(Object(y.a)({},n.props.user),{},{[e.target.name]:e.target.value});n.props.handleEdit(t)},n.handleOnChangeNumber=function(e){var t=Object(y.a)(Object(y.a)({},n.props.user),{},{[e.target.name]:Number(e.target.value)});n.props.handleEdit(t)},n.onStartWorking=function(e){if(null!==e){var t=new Date(e._d),a=("0"+(t.getMonth()+1)).slice(-2),l=[("0"+t.getDate()).slice(-2),a,t.getFullYear()].join("-"),r=Object(y.a)(Object(y.a)({},n.props.user),{},{start_working_date:l});n.props.handleEdit(r)}},n.state={date:""},n.saveEdit=n.saveEdit.bind(Object(U.a)(n)),n.handleOnChange=n.handleOnChange.bind(Object(U.a)(n)),n.handleChangeGender=n.handleChangeGender.bind(Object(U.a)(n)),n.handleChangeRole=n.handleChangeRole.bind(Object(U.a)(n)),n.handleChangeSupervisor=n.handleChangeSupervisor.bind(Object(U.a)(n)),n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Admin-Edit-User ----------------- ")}},{key:"componentDidMount",value:function(){if("admin"!==localStorage.getItem("role")&&this.props.history.push("/"),void 0===this.props.history.location.state)this.props.history.push("/");else{var e=Number(this.props.history.location.pathname.split("/").pop()),t=this.props.history.location.state.users.filter((function(t){return t.employee_number===e}));this.props.fetchedEdit(t[0]),this.props.getSupervisors()}}},{key:"handleChangeGender",value:function(e,t){var a=Object(y.a)(Object(y.a)({},this.props.user),{},{gender:e});this.props.handleEdit(a)}},{key:"handleChangeRole",value:function(e){if("employee"===e){var t=Object(y.a)(Object(y.a)({},this.props.user),{},{role:e});this.props.handleEdit(t)}else{var a=Object(y.a)(Object(y.a)({},this.props.user),{},{role:e,supervisor_id:Number()});this.props.handleEdit(a)}}},{key:"handleChangeSupervisor",value:function(e){var t=Object(y.a)(Object(y.a)({},this.props.user),{},{supervisor_id:Number(e)});this.props.handleEdit(t)}},{key:"handleChangeSelect",value:function(e){console.log("selected=======>",e)}},{key:"handleBlur",value:function(){console.log("blur")}},{key:"handleFocus",value:function(){console.log("focus")}},{key:"render",value:function(){var e,t=this,a={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};return this.props.supervisor&&this.props.supervisor.map((function(a){return a.id===t.props.user.supervisor_id&&a.name!==t.props.user.name?e=a.name:a.id===t.props.user.employee_number&&(a.name="",e=a.name),a})),r.a.createElement("div",null,r.a.createElement(Q.a,null,r.a.createElement(wt,null),r.a.createElement(Na,{className:"container",style:{display:"flex",margin:"24px 16px 0",justifyContent:"space-around",paddingBottom:"160px"}},r.a.createElement("div",{style:{padding:100,paddingBottom:50,paddingTop:50,background:"#fff",minHeight:360}},r.a.createElement("h1",null," EDIT USER "),r.a.createElement("div",null,r.a.createElement($.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(Ta,Object.assign({},a,{label:"Employee Number"}),r.a.createElement(Z.a,{type:"number",id:"employee_number",name:"employee_number",placeholder:"Employee Number",value:this.props.user.employee_number,onChange:this.handleOnChangeNumber})),r.a.createElement(Ta,Object.assign({},a,{label:"Name"}),r.a.createElement(Z.a,{type:"text",id:"name",name:"name",placeholder:"name",value:this.props.user.name,onChange:this.handleOnChange})),r.a.createElement(Ta,Object.assign({},a,{label:"Email"}),r.a.createElement(Z.a,{type:"email",id:"email",name:"email",placeholder:"email",value:this.props.user.email,onChange:this.handleOnChange})),r.a.createElement(Ta,Object.assign({},a,{label:"Gender"}),r.a.createElement(me.a,{id:"gender",name:"gender",placeholder:"Select gender",optionFilterProp:"children",onChange:this.handleChangeGender,onSelect:function(e,a){return t.handleChangeSelect(e,a)},onFocus:this.handleFocus,onBlur:this.handleBlur,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},value:this.props.user.gender},r.a.createElement(Fa,{value:"Male"},"Male"),r.a.createElement(Fa,{value:"Female"},"Female"))),r.a.createElement(Ta,Object.assign({},a,{label:"Position"}),r.a.createElement(Z.a,{type:"text",id:"position",name:"position",placeholder:"position",value:this.props.user.position,onChange:this.handleOnChange})),r.a.createElement(Ta,Object.assign({},a,{label:"Start Working Date"}),r.a.createElement(he.a,{id:"start_working_date",name:"start_working_date",format:"DD-MM-YYYY",value:$e()(this.props.user.start_working_date,"DD-MM-YYYY"),onChange:this.onStartWorking,style:{width:"100%"}})),r.a.createElement(Ta,Object.assign({},a,{label:"Mobile Phone"}),r.a.createElement(Z.a,{type:"text",id:"mobile_phone",name:"mobile_phone",placeholder:"mobile_phone",value:this.props.user.mobile_phone,onChange:this.handleOnChange})),r.a.createElement(Ta,Object.assign({},a,{label:"Role"}),r.a.createElement(me.a,{id:"role",name:"role",placeholder:"Select Role",optionFilterProp:"children",onChange:this.handleChangeRole,onSelect:function(e,a){return t.handleChangeSelect(e,a)},showSearch:!0,onFocus:this.handleFocus,onBlur:this.handleBlur,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},value:this.props.user.role},r.a.createElement(Fa,{value:"employee"},"Employee"),r.a.createElement(Fa,{value:"supervisor"},"Supervisor"),r.a.createElement(Fa,{value:"director"},"Director"))),"employee"===this.props.user.role?r.a.createElement(Ta,Object.assign({},a,{label:"Supervisor"}),r.a.createElement(me.a,{id:"supervisor_id",name:"supervisor_id",placeholder:"Select Supervisor",optionFilterProp:"children",onChange:this.handleChangeSupervisor,onSelect:function(e,a){return t.handleChangeSelect(e,a)},showSearch:!0,onFocus:this.handleFocus,onBlur:this.handleBlur,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},value:e},this.props.supervisor.map((function(e){return r.a.createElement(Fa,{key:e.id},e.name)})))):"",r.a.createElement(Ta,null,r.a.createElement(ee.a,{onClick:function(){t.saveEdit()},htmlType:"submit",type:"primary"},"UPDATE")))))),r.a.createElement(De,null)))}}]),a}(l.Component),Aa=$.a.create()(Ya),Pa=Object(f.b)((function(e){return{loading:e.editUserReducer.loading,user:e.editUserReducer.user,supervisor:e.AddSupervisorReducer.supervisor}}),(function(e){return Object(E.b)({fetchedEdit:ja,handleEdit:ka,saveEditUser:Ia,getSupervisors:ce},e)}))(Aa),Ma=(a(435),Q.a.Content),qa=$.a.Item,Va=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).saveEditBalanceUser=function(){console.log(n.props.balance);var e=Number(n.props.history.location.pathname.split("/").pop());n.props.saveEditBalanceUser(n.props.balance,e,(function(e){n.props.history.push(e)}))},n.handleOnChange=function(e){var t=Object(y.a)(Object(y.a)({},n.props.balance[e.target.id]),{},{leave_remaining:Number(e.target.value)}),a=Object(Gt.a)(n.props.balance);a[e.target.id]=t,console.log(a),n.props.handleEditBalance(a)},n.state={date:""},n.saveEditBalanceUser=n.saveEditBalanceUser.bind(Object(U.a)(n)),n.handleOnChange=n.handleOnChange.bind(Object(U.a)(n)),n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Admin-Edit-Balance ----------------- ")}},{key:"componentDidMount",value:function(){"admin"!==localStorage.getItem("role")&&this.props.history.push("/");var e=Number(this.props.history.location.pathname.split("/").pop());this.props.adminEditLeaveBalances(e)}},{key:"handleBlur",value:function(){console.log("blur")}},{key:"handleFocus",value:function(){console.log("focus")}},{key:"render",value:function(){var e=this,t={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},a=[];return this.props.balance&&this.props.balance.map((function(n,l){return a.push(r.a.createElement(qa,Object.assign({},t,{label:n.type_name}),r.a.createElement(Z.a,{type:"number",id:l,name:n.type_name,defaultValue:n.leave_remaining,onChange:e.handleOnChange}))),n})),this.props.loading?r.a.createElement(At,null):r.a.createElement("div",null,r.a.createElement(Q.a,null,r.a.createElement(wt,null),r.a.createElement(Ma,{className:"container",style:{display:"flex",margin:"24px 16px 0",justifyContent:"space-around",paddingBottom:"160px"}},r.a.createElement("div",{style:{padding:100,paddingBottom:50,paddingTop:50,background:"#fff",minHeight:360}},r.a.createElement("h1",null," EDIT BALANCE "),r.a.createElement("div",null,r.a.createElement($.a,{onSubmit:this.handleSubmit,className:"login-form"},a,r.a.createElement(qa,null,r.a.createElement(ee.a,{onClick:function(){e.saveEditBalanceUser()},htmlType:"submit",type:"primary"},"UPDATE")))))),r.a.createElement(De,null)))}}]),a}(l.Component),Ba=$.a.create()(Va),Ha=Object(f.b)((function(e){return{loading:e.adminReducer.loading,balance:e.adminReducer.balances}}),(function(e){return Object(E.b)({adminEditLeaveBalances:Jt,handleEditBalance:Wt,saveEditBalanceUser:Kt},e)}))(Ba),Ua=(a(436),a(480)),Ga=Q.a.Content,Wa=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onSearch=function(){var e=n.state.searchText,t=new RegExp(e,"gi");n.setState({filterDropdownNameVisible:!1,filtered:!!e,data:Ra.map((function(a){return a.name.match(t)?Object(y.a)(Object(y.a)({},a),{},{name:r.a.createElement("span",null,a.name.split(new RegExp("(?<=".concat(e,")|(?=").concat(e,")"),"i")).map((function(t,a){return t.toLowerCase()===e.toLowerCase()?r.a.createElement("span",{key:a},t):t})))}):null})).filter((function(e){return!!e}))})},n.onSearchID=function(){var e=n.state.searchID,t=new RegExp(e,"gi");n.setState({filterDropdownIDVisible:!1,filtered:!!e,data:Ra.map((function(a){return String(a.id).match(t)?Object(y.a)(Object(y.a)({},a),{},{ID:r.a.createElement("span",null,n.state.data.map((function(t,a){return String(t.id)===e?r.a.createElement("span",{key:a,className:"highlight"},t):t})),"}")}):null})).filter((function(e){return!!e}))})},n.onInputChangeID=function(e){n.setState({searchID:e.target.value})},n.onInputChangeName=function(e){n.setState({searchText:e.target.value})},n.showDetail=function(e){n.setState({visible:!0,user:e})},n.onSelectChange=function(e){console.log("selected row: ",e)},n.handleCancel=function(){n.setState({visible:!1})},n.deleteRequestLeave=function(e,t){n.props.deleteRequestLeave(e,t)},n.state={loading:!1,visible:!1,user:null,data:n.props.leave,filterDropdownVisible:!1,filterDropdownNameVisible:!1,filtered:!1,searchText:"",searchID:""},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Admin-List-Pending-Request ----------------- ")}},{key:"componentWillReceiveProps",value:function(e){e.leave!==this.props.leave&&this.setState({data:e.leave}),Ra=e.leave}},{key:"componentDidMount",value:function(){localStorage.getItem("token")?"admin"!==localStorage.getItem("role")&&this.props.history.push("/"):this.props.history.push("/"),this.props.fetchAdminLeavePending()}},{key:"onShowSizeChange",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.loading,l=[{title:"Request ID",dataIndex:"id",key:"id",width:100,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-id"},r.a.createElement(Z.a,{type:"number",ref:function(t){return e.searchInput=t},placeholder:"Search request id",value:this.state.searchID,onChange:this.onInputChangeID,onPressEnter:this.onSearchID}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearchID},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownIDVisible:this.state.filterDropdownIDVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownIDVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Employee ID",dataIndex:"employee_number",key:"employee_number",width:100},{title:"Name",dataIndex:"name",key:"name",width:200,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-name"},r.a.createElement(Z.a,{ref:function(t){return e.searchInput=t},placeholder:"Search name",value:this.state.searchText,onChange:this.onInputChangeName,onPressEnter:this.onSearch}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearch},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownNameVisible:this.state.filterDropdownNameVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownNameVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Position",dataIndex:"position",key:"position",width:150},{title:"Email",dataIndex:"email",key:"email",width:150},{title:"Type Of Leave",dataIndex:"type_name",key:"type_name",width:150},{title:"From",dataIndex:"date_from",key:"date_from",width:120},{title:"To",dataIndex:"date_to",key:"date_to",width:120},{title:"Action",key:"action",width:200,render:function(t,a){return r.a.createElement("span",null,r.a.createElement(ee.a,{type:"primary",onClick:function(){return e.showDetail(a)}},"Detail"),r.a.createElement(ra.a,{type:"vertical"}),r.a.createElement(oa.a,{placement:"top",title:"Are you sure delete this leave request?",onConfirm:function(){e.deleteRequestLeave(e.props.leave,a.id),je.a.success("Leave request has been delete!")},okText:"Yes",cancelText:"No"},r.a.createElement(ee.a,{type:"danger"},"Delete")))}}];return this.props.loading?r.a.createElement(At,null):r.a.createElement(Q.a,null,r.a.createElement(wt,null),r.a.createElement(Ga,{className:"container",style:{display:"flex",margin:"20px 16px 0",justifyContent:"center",paddingBottom:"606px"}},r.a.createElement("div",{style:{padding:"20px",backgroundColor:"#fff",width:"1700px"}},r.a.createElement("h3",null,"List of Pending Request"),r.a.createElement(sa.a,{columns:l,dataSource:this.state.data,rowKey:function(e){return e.id},onRowClick:this.onSelectChange,pagination:{className:"my-pagination",defaultCurrent:1,defaultPageSize:5,total:"".concat(this.state.data&&this.state.data.length),showSizeChanger:this.onShowSizeChange}})),r.a.createElement(Ua.a,{visible:a,title:"Detail Leave Request Pending",onCancel:this.handleCancel,style:{top:"20"},bodyStyle:{padding:"0"},width:"600px",footer:[r.a.createElement(ee.a,{key:"cancel",loading:n,onClick:this.handleCancel},"Return")]},r.a.createElement("div",{style:{padding:10,background:"#fff"}},r.a.createElement("table",null,r.a.createElement("thead",null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.name)),r.a.createElement("tr",null,r.a.createElement("td",null,"Gender"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.gender)),r.a.createElement("tr",null,r.a.createElement("td",null,"Email"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.email)),r.a.createElement("tr",null,r.a.createElement("td",null,"Type Of Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.type_name)),this.state.user&&""!==this.state.user.reason?r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.reason)):r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"From"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_from)),r.a.createElement("tr",null,r.a.createElement("td",null,"To"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_to)),this.state.user&&"{}"!==this.state.user.half_dates?r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.half_dates.substring(1,this.state.user.half_dates.length-1))):r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"Back On"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.back_on)),r.a.createElement("tr",null,r.a.createElement("td",null,"Total Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.total," day(s)")),r.a.createElement("tr",null,r.a.createElement("td",null,"Leave Balance"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.leave_remaining," days")),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Address"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_address)),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Number"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_number)),r.a.createElement("tr",null,r.a.createElement("td",null,"Status"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.status)),this.state.user&&""!==this.state.user.notes?r.a.createElement("tr",null,r.a.createElement("td",null,"Notes"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.notes)):r.a.createElement("tr",null,r.a.createElement("td",null,"Notes"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-"))))))),r.a.createElement(De,null))}}]),a}(l.Component),za=Object(f.b)((function(e){return{loading:e.adminReducer.loading,leave:e.adminReducer.leaves}}),(function(e){return Object(E.b)({fetchAdminLeavePending:$t,deleteRequestLeave:ea},e)}))(Wa),Ja=(a(437),Q.a.Content),Ka=$.a.Item,Qa=me.a.Option,$a=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onSearch=function(){var e=n.state.searchText,t=new RegExp(e,"gi");n.setState({filterDropdownNameVisible:!1,filtered:!!e,data:La.map((function(a){return a.name.match(t)?Object(y.a)(Object(y.a)({},a),{},{name:r.a.createElement("span",null,a.name.split(new RegExp("(?<=".concat(e,")|(?=").concat(e,")"),"i")).map((function(t,a){return t.toLowerCase()===e.toLowerCase()?r.a.createElement("span",{key:a},t):t})))}):null})).filter((function(e){return!!e}))})},n.onSearchID=function(){var e=n.state.searchID,t=new RegExp(e,"gi");n.setState({filterDropdownIDVisible:!1,filtered:!!e,data:La.map((function(a){return String(a.id).match(t)?Object(y.a)(Object(y.a)({},a),{},{ID:r.a.createElement("span",null,n.state.data.map((function(t,a){return String(t.id)===e?r.a.createElement("span",{key:a,className:"highlight"},t):t})),"}")}):null})).filter((function(e){return!!e}))})},n.onInputChangeID=function(e){n.setState({searchID:e.target.value})},n.onInputChangeName=function(e){n.setState({searchText:e.target.value})},n.showDetail=function(e){n.setState({visible:!0,user:e})},n.onSelectChange=function(e){console.log("selected row: ",e)},n.handleOk=function(){var e=n.state.user&&n.state.user.id,t=n.state.user&&n.state.user.employee_id;n.setState({loading:!0}),n.cancelRequestLeave(n.props.leave,e,t),setTimeout((function(){n.setState({loading:!1,visible:!1})}),760)},n.cancelRequestLeave=function(e,t,a){n.props.cancelRequestLeave(e,t,a)},n.handleCancel=function(){n.setState({visible:!1})},n.handleSubmit=function(e){e.preventDefault(),n.downloadReport(n.state.from,n.state.to)},n.downloadReport=function(e,t){n.props.downloadReport(e,t)},n.onStartChange=function(e){if(null!==e){var t=new Date(e._d),a=("0"+(t.getMonth()+1)).slice(-2),l=[("0"+t.getDate()).slice(-2),a,t.getFullYear()].join("-");n.setState({from:l})}},n.onEndChange=function(e){if(null!==e){var t=new Date(e._d),a=("0"+(t.getMonth()+1)).slice(-2),l=[("0"+t.getDate()).slice(-2),a,t.getFullYear()].join("-");n.setState({to:l})}},n.handleSubmitReportType=function(e){e.preventDefault(),n.downloadReportTypeLeave(n.state.start,n.state.end,n.state.id)},n.downloadReportTypeLeave=function(e,t,a){n.props.downloadReportTypeLeave(e,t,a)},n.onStartChangeDate=function(e){if(null!==e){var t=new Date(e._d),a=("0"+(t.getMonth()+1)).slice(-2),l=[("0"+t.getDate()).slice(-2),a,t.getFullYear()].join("-");n.setState({start:l})}},n.onEndChangeDate=function(e){if(null!==e){var t=new Date(e._d),a=("0"+(t.getMonth()+1)).slice(-2),l=[("0"+t.getDate()).slice(-2),a,t.getFullYear()].join("-");n.setState({end:l})}},n.handleChangeSelect=function(e){n.setState({id:e})},n.state={loading:!1,visible:!1,user:null,data:n.props.leave,filterDropdownVisible:!1,filterDropdownNameVisible:!1,filtered:!1,searchText:"",searchID:"",from:null,to:null,start:null,end:null,id:null},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Admin-List-Approve-Request ----------------- ")}},{key:"componentWillReceiveProps",value:function(e){e.leave!==this.props.leave&&this.setState({data:e.leave}),La=e.leave}},{key:"componentDidMount",value:function(){localStorage.getItem("token")?"admin"!==localStorage.getItem("role")&&this.props.history.push("/"):this.props.history.push("/"),this.props.fetchAdminLeaveApprove()}},{key:"onShowSizeChange",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.loading,l=[{title:"Request No.",dataIndex:"id",key:"id",width:90,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-id"},r.a.createElement(Z.a,{type:"number",ref:function(t){return e.searchInput=t},placeholder:"Search request id",value:this.state.searchID,onChange:this.onInputChangeID,onPressEnter:this.onSearchID}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearchID},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownIDVisible:this.state.filterDropdownIDVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownIDVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Employee ID",dataIndex:"employee_number",key:"employee_number",width:100},{title:"Name",dataIndex:"name",key:"name",width:150,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-name"},r.a.createElement(Z.a,{ref:function(t){return e.searchInput=t},placeholder:"Search name",value:this.state.searchText,onChange:this.onInputChangeName,onPressEnter:this.onSearch}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearch},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownNameVisible:this.state.filterDropdownNameVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownNameVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Position",dataIndex:"position",key:"position",width:150},{title:"Email",dataIndex:"email",key:"email",width:150},{title:"Type Of Leave",dataIndex:"type_name",key:"type_name",width:150},{title:"From",dataIndex:"date_from",key:"date_from",width:120},{title:"To",dataIndex:"date_to",key:"date_to",width:120},{title:"Action",key:"action",width:100,render:function(t,a){return r.a.createElement("span",null,r.a.createElement(ee.a,{type:"primary",onClick:function(){return e.showDetail(a)}},"Detail"))}}];return this.props.loading?r.a.createElement(At,null):r.a.createElement(Q.a,null,r.a.createElement(wt,null),r.a.createElement(Ja,{className:"container",style:{display:"flex",margin:"20px 15px 0",justifyContent:"center",paddingBottom:"186px"}},r.a.createElement("div",{style:{padding:"20px",backgroundColor:"#fff"}},r.a.createElement("h3",null,"List of Approve Request"),r.a.createElement($.a,{id:"myForm",layout:"inline",onSubmit:this.handleSubmit,style:{marginRight:600}},r.a.createElement(Ka,null,r.a.createElement(he.a,{id:"date_from",name:"date_from",placeholder:"Start",defaultValue:this.state.from,onChange:this.onStartChange})),r.a.createElement(Ka,null,r.a.createElement(he.a,{id:"date_from",name:"date_from",placeholder:"End",defaultValue:this.state.to,onChange:this.onEndChange})),r.a.createElement(Ka,null,r.a.createElement(ee.a,{type:"primary",htmlType:"submit"},"Download"))),r.a.createElement($.a,{id:"myForm",layout:"inline",onSubmit:this.handleSubmitReportType,style:{marginRight:405}},r.a.createElement(Ka,null,r.a.createElement(he.a,{id:"date_from",name:"date_from",placeholder:"Start",onChange:this.onStartChangeDate})),r.a.createElement(Ka,null,r.a.createElement(he.a,{id:"date_from",name:"date_from",placeholder:"End",onChange:this.onEndChangeDate})),r.a.createElement(Ka,null,r.a.createElement(me.a,{style:{width:180},id:"type_of_leave",name:"type_of_leave",placeholder:"Type of Leave",optionFilterProp:"children",onChange:this.handleChangeSelect},r.a.createElement(Qa,{value:"11"},"Annual Leave"),r.a.createElement(Qa,{value:"22"},"Errand Leave"),r.a.createElement(Qa,{value:"33"},"Sick Leave"),r.a.createElement(Qa,{value:"44"},"Marriage Leave"),r.a.createElement(Qa,{value:"55"},"Maternity Leave"),r.a.createElement(Qa,{value:"66"},"Other Leave"))),r.a.createElement(Ka,null,r.a.createElement(ee.a,{type:"primary",htmlType:"submit"},"Download"))),r.a.createElement(sa.a,{columns:l,dataSource:this.state.data,rowKey:function(e){return e.id},onRowClick:this.onSelectChange,pagination:{className:"my-pagination",defaultCurrent:1,defaultPageSize:5,total:"".concat(this.state.data&&this.state.data.length),showSizeChanger:this.onShowSizeChange}})),r.a.createElement(Ua.a,{visible:a,title:"Detail Leave Request Approved",onOk:this.handleOk,onCancel:this.handleCancel,style:{top:"20"},bodyStyle:{padding:"0"},width:"600px",footer:[r.a.createElement(ee.a,{key:"accept",type:"danger",loading:n,onClick:this.handleOk},"Cancel Request")]},r.a.createElement("div",{style:{padding:10,background:"#fff"}},r.a.createElement("table",null,r.a.createElement("thead",null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.name)),r.a.createElement("tr",null,r.a.createElement("td",null,"Gender"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.gender)),r.a.createElement("tr",null,r.a.createElement("td",null,"Email"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.email)),r.a.createElement("tr",null,r.a.createElement("td",null,"Type Of Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.type_name)),this.state.user&&""!==this.state.user.reason?r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.reason)):r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"From"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_from)),r.a.createElement("tr",null,r.a.createElement("td",null,"To"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_to)),this.state.user&&"{}"!==this.state.user.half_dates?r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.half_dates.substring(1,this.state.user.half_dates.length-1))):r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"Back On"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.back_on)),r.a.createElement("tr",null,r.a.createElement("td",null,"Total Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.total," day(s)")),r.a.createElement("tr",null,r.a.createElement("td",null,"Leave Balance"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.leave_remaining," days")),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Address"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_address)),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Number"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_number)),this.state.user&&""!==this.state.user.notes?r.a.createElement("tr",null,r.a.createElement("td",null,"Notes"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.notes)):r.a.createElement("tr",null,r.a.createElement("td",null,"Notes"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-"))))))),r.a.createElement(De,null))}}]),a}(l.Component),Xa=Object(f.b)((function(e){return{loading:e.adminReducer.loading,leave:e.adminReducer.leaves}}),(function(e){return Object(E.b)({fetchAdminLeaveApprove:Xt,cancelRequestLeave:ta,downloadReport:aa,downloadReportTypeLeave:na},e)}))($a),Za=(a(438),Q.a.Content),en=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onSearch=function(){var e=n.state.searchText,t=new RegExp(e,"gi");n.setState({filterDropdownNameVisible:!1,filtered:!!e,data:xa.map((function(a){return a.name.match(t)?Object(y.a)(Object(y.a)({},a),{},{name:r.a.createElement("span",null,a.name.split(new RegExp("(?<=".concat(e,")|(?=").concat(e,")"),"i")).map((function(t,a){return t.toLowerCase()===e.toLowerCase()?r.a.createElement("span",{key:a},t):t})))}):null})).filter((function(e){return!!e}))})},n.onSearchID=function(){var e=n.state.searchID,t=new RegExp(e,"gi");n.setState({filterDropdownIDVisible:!1,filtered:!!e,data:xa.map((function(a){return String(a.id).match(t)?Object(y.a)(Object(y.a)({},a),{},{ID:r.a.createElement("span",null,n.state.data.map((function(t,a){return String(t.id)===e?r.a.createElement("span",{key:a,className:"highlight"},t):t})),"}")}):null})).filter((function(e){return!!e}))})},n.onInputChangeID=function(e){n.setState({searchID:e.target.value})},n.onInputChangeName=function(e){n.setState({searchText:e.target.value})},n.showDetail=function(e){n.setState({visible:!0,user:e})},n.onSelectChange=function(e){console.log("selected row: ",e)},n.handleCancel=function(){n.setState({visible:!1})},n.state={loading:!1,visible:!1,user:null,data:n.props.leave,filterDropdownVisible:!1,filterDropdownNameVisible:!1,filtered:!1,searchText:"",searchID:""},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Admin-List-Reject-Request ----------------- ")}},{key:"componentWillReceiveProps",value:function(e){e.leave!==this.props.leave&&this.setState({data:e.leave}),xa=e.leave}},{key:"componentDidMount",value:function(){localStorage.getItem("token")?"admin"!==localStorage.getItem("role")&&this.props.history.push("/"):this.props.history.push("/"),this.props.fetchAdminLeaveReject()}},{key:"onShowSizeChange",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.loading,l=[{title:"Request No.",dataIndex:"id",key:"id",width:90,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-id"},r.a.createElement(Z.a,{type:"number",ref:function(t){return e.searchInput=t},placeholder:"Search request id",value:this.state.searchID,onChange:this.onInputChangeID,onPressEnter:this.onSearchID}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearchID},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownIDVisible:this.state.filterDropdownIDVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownIDVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Employee ID",dataIndex:"employee_number",key:"employee_number",width:100},{title:"Name",dataIndex:"name",key:"name",width:150,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-name"},r.a.createElement(Z.a,{ref:function(t){return e.searchInput=t},placeholder:"Search name",value:this.state.searchText,onChange:this.onInputChangeName,onPressEnter:this.onSearch}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearch},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownNameVisible:this.state.filterDropdownNameVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownNameVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Position",dataIndex:"position",key:"position",width:150},{title:"Email",dataIndex:"email",key:"email",width:150},{title:"Type Of Leave",dataIndex:"type_name",key:"type_name",width:150},{title:"From",dataIndex:"date_from",key:"date_from",width:120},{title:"To",dataIndex:"date_to",key:"date_to",width:120},{title:"Action",key:"action",width:100,render:function(t,a){return r.a.createElement("span",null,r.a.createElement(ee.a,{type:"primary",onClick:function(){return e.showDetail(a)}},"Detail"))}}];return this.props.loading?r.a.createElement(At,null):r.a.createElement(Q.a,null,r.a.createElement(wt,null),r.a.createElement(Za,{className:"container",style:{display:"flex",margin:"20px 16px 0",justifyContent:"center",paddingBottom:"606px"}},r.a.createElement("div",{style:{padding:20,background:"#fff"}},r.a.createElement("h3",null,"List of Reject Request"),r.a.createElement(sa.a,{columns:l,dataSource:this.state.data,rowKey:function(e){return e.id},onRowClick:this.onSelectChange,pagination:{className:"my-pagination",defaultCurrent:1,defaultPageSize:5,total:"".concat(this.state.data&&this.state.data.length),showSizeChanger:this.onShowSizeChange}})),r.a.createElement(Ua.a,{visible:a,title:"Detail Leave Request Rejected",onCancel:this.handleCancel,style:{top:"20"},bodyStyle:{padding:"0"},width:"600px",footer:[r.a.createElement(ee.a,{key:"cancel",loading:n,onClick:this.handleCancel},"Return")]},r.a.createElement("div",{style:{padding:10,background:"#fff"}},r.a.createElement("table",null,r.a.createElement("thead",null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.name)),r.a.createElement("tr",null,r.a.createElement("td",null,"Gender"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.gender)),r.a.createElement("tr",null,r.a.createElement("td",null,"Email"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.email)),r.a.createElement("tr",null,r.a.createElement("td",null,"Type Of Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.type_name)),this.state.user&&""!==this.state.user.reason?r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.reason)):r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"From"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_from)),r.a.createElement("tr",null,r.a.createElement("td",null,"To"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_to)),this.state.user&&"{}"!==this.state.user.half_dates?r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.half_dates.substring(1,this.state.user.half_dates.length-1))):r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"Back On"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.back_on)),r.a.createElement("tr",null,r.a.createElement("td",null,"Total Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.total," day(s)")),r.a.createElement("tr",null,r.a.createElement("td",null,"Leave Balance"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.leave_remaining," days")),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Address"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_address)),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Number"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_number)),r.a.createElement("tr",null,r.a.createElement("td",null,"Reject Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.reject_reason)),this.state.user&&""!==this.state.user.notes?r.a.createElement("tr",null,r.a.createElement("td",null,"Notes"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.notes)):r.a.createElement("tr",null,r.a.createElement("td",null,"Notes"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-"))))))),r.a.createElement(De,null))}}]),a}(l.Component),tn=Object(f.b)((function(e){return{loading:e.adminReducer.loading,leave:e.adminReducer.leaves}}),(function(e){return Object(E.b)({fetchAdminLeaveReject:Zt},e)}))(en),an=(a(439),Q.a.Content),nn=$.a.Item,ln=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).updatePassword=function(e){e.preventDefault(),n.props.updateNewPassword(n.props.passwordForm,(function(e){n.props.history.push(e)})),n.props.form.validateFieldsAndScroll((function(e,t){e||console.log("Received values of form: ",t)}))},n.handleOnChange=function(e){var t=Object(y.a)(Object(y.a)({},n.props.passwordForm),{},{[e.target.name]:e.target.value});n.props.handleEdit(t)},n.handleConfirmBlur=function(e){var t=e.target.value;n.setState({confirmDirty:n.state.confirmDirty||!!t})},n.compareToFirstPassword=function(e,t,a){var l=n.props.form;t&&t!==l.getFieldValue("password")?a("Wrong confirm password!"):a()},n.validateToNextPassword=function(e,t,a){var l=n.props.form;t&&n.state.confirmDirty&&l.validateFields(["confirm"],{force:!0}),a()},n.state={from:null,to:null,endOpen:!1,confirmDirty:!1},n.handleOnChange=n.handleOnChange.bind(Object(U.a)(n)),n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Update-Password ----------------- "),localStorage.getItem("token")?"employee"!==localStorage.getItem("role")&&"supervisor"!==localStorage.getItem("role")&&"director"!==localStorage.getItem("role")&&"admin"!==localStorage.getItem("role")&&this.props.history.push("/"):this.props.history.push("/")}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{xs:{span:24},sm:{span:10}},wrapperCol:{xs:{span:24},sm:{span:10}},style:{}},a={width:"100%"};return r.a.createElement(Q.a,null,r.a.createElement(wt,null),r.a.createElement(an,{className:"container",style:{display:"flex",margin:"20px 16px 0",justifyContent:"center",paddingBottom:"411px"}},r.a.createElement("div",{style:{padding:50,paddingBottom:50,paddingTop:50,background:"#fff"}},r.a.createElement("h1",null," UPDATE PASSWORD "),r.a.createElement($.a,{className:"login-form"},r.a.createElement(nn,Object.assign({},t,{label:"Old Password"}),e("old password",{rules:[{required:!0},{min:7,message:"password length minimum is 7"}]})(r.a.createElement(Z.a,{type:"password",id:"old_password",name:"old_password",placeholder:"old password",onChange:this.handleOnChange,style:a}))),r.a.createElement(nn,Object.assign({},t,{label:"New Password"}),e("password",{rules:[{required:!0},{min:7,message:"password length minimum is 7"},{validator:this.validateToNextPassword}]})(r.a.createElement(Z.a,{type:"password",id:"new_password",name:"new_password",placeholder:"new password",onChange:this.handleOnChange,style:a}))),r.a.createElement(nn,Object.assign({},t,{label:"Confirm Password"}),e("confirm",{rules:[{required:!0},{min:7,message:"password length minimum is 7"},{validator:this.compareToFirstPassword}]})(r.a.createElement(Z.a,{type:"password",id:"confirm_password",name:"confirm_password",placeholder:"confirm password",onChange:this.handleOnChange,style:a}))),r.a.createElement(nn,null,r.a.createElement(ee.a,{onClick:this.updatePassword,htmlType:"submit",type:"primary",style:{width:"35%"}},"Update"))))),r.a.createElement(De,null))}}]),a}(l.Component),rn=$.a.create()(ln),on=Object(f.b)((function(e){return{passwordForm:e.passwordReducer}}),(function(e){return Object(E.b)({handleEdit:Pe,updateNewPassword:Me},e)}))(rn),sn=a(226),cn=a.n(sn),un=(a(456),a(457),Q.a.Content),dn=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={leaves:n.props.leave},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Director-Landing-Page ----------------- ")}},{key:"componentDidMount",value:function(){localStorage.getItem("token")?"director"!==localStorage.getItem("role")&&this.props.history.push("/"):this.props.history.push("/"),this.props.fetchAdminLeaveApprove()}},{key:"componentWillReceiveProps",value:function(e){e.leave!==this.props.leave&&this.setState({leaves:e.leave})}},{key:"formatDate",value:function(e){var t=new Date(e._d),a=("0"+(t.getMonth()+1)).slice(-2),n=("0"+t.getDate()).slice(-2);return[t.getFullYear(),a,n].join("-")}},{key:"eventRender",value:function(e,t){"Sick Leave"===e.className&&t.css({"background-color":"#333333","border-color":"#333333"})}},{key:"render",value:function(){var e=[];if(this.state.leaves)for(var t=0;t<this.state.leaves.length;t++)e.push({title:"".concat(this.state.leaves[t].name," ").concat(this.state.leaves[t].total," day(s) for ").concat(this.state.leaves[t].type_name),start:this.formatDate(yt()(this.state.leaves[t].date_from,"DD-MM-YYYY")),end:this.formatDate(yt()(this.state.leaves[t].date_to,"DD-MM-YYYY").add(1,"d")),className:this.state.leaves[t].type_name});return this.props.loading?r.a.createElement(At,null):r.a.createElement("div",null,r.a.createElement(Q.a,null,r.a.createElement(ve,null),r.a.createElement(un,{className:"container",style:{display:"flex",margin:"20px 16px 0",justifyContent:"space-around",paddingBottom:"20px"}},r.a.createElement("div",{style:{padding:20,background:"#fff"}},r.a.createElement(cn.a,{id:"your-custom-ID",header:{left:"prev,next today myCustomButton",center:"title",right:"month,basicWeek,basicDay"},navLinks:!0,editable:!0,eventLimit:!0,events:e,eventColor:"#378006",eventClick:function(e,t,a,n){je.a.info(e.title)}}))),r.a.createElement(De,null)))}}]),a}(l.Component),mn=Object(f.b)((function(e){return{loading:e.adminReducer.loading,leave:e.adminReducer.leaves}}),(function(e){return Object(E.b)({fetchAdminLeaveApprove:Xt},e)}))(dn);function hn(){return function(e){fetch("".concat(v,"/api/director/pending"),{method:"GET"}).then((function(e){return e.json()})).then((function(t){var a=t.body,n=t.error;e(function(e){return{type:"FETCH_LEAVE_PENDING",payload:e}}({loading:!1,leaves:a})),null!==n&&console.error("error not null @fetchDirectorLeavePending: ",n)})).catch((function(e){console.error("error @fetchDirectorLeavePending: ",e)}))}}function pn(){return function(e){fetch("".concat(v,"/api/director/accept"),{method:"GET"}).then((function(e){return e.json()})).then((function(t){var a=t.body,n=t.error;e(function(e){return{type:"FETCH_LEAVE_APPROVE",payload:e}}({loading:!1,leaves:a})),null!==n&&console.error("error not null @fetchDirectorLeaveApprove: ",n)})).catch((function(e){console.error("error @fetchDirectorLeaveApprove: ",e)}))}}function fn(){return function(e){fetch("".concat(v,"/api/director/reject/"),{method:"GET"}).then((function(e){return e.json()})).then((function(t){var a=t.body,n=t.error;e(function(e){return{type:"FETCH_LEAVE_REJECT",payload:e}}({loading:!1,leaves:a})),null!==n&&console.error("error not null @fetchDirectorLeaveReject: ",n)})).catch((function(e){console.error("error @fetchDirectorLeaveReject: ",e)}))}}function En(e,t,a){return function(n){fetch("".concat(v,"/api/director/accept/").concat(t,"/").concat(a,"/"),{method:"PUT"}).then((function(e){return e.json()})).then((function(a){var l=a.body,r=a.error;if(null!==l){var o=e.filter((function(e){return e.id!==t})),s={loading:!1,leaves:Object(Gt.a)(o)};n(function(e){return{type:"APPROVE_LEAVE_PENDING",payload:e}}(s)),je.a.success(l)}else je.a.error(r)})).catch((function(e){console.error("error @directorApproveRequest: ",e)}))}}function gn(e,t,a,n){return function(l){fetch("".concat(v,"/api/director/reject/").concat(t,"/").concat(a,"/"),{method:"PUT",body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(a){var n=a.body,r=a.error;if(null!==n){var o=e.filter((function(e){return e.id!==t})),s={loading:!1,leaves:Object(Gt.a)(o)};l(function(e){return{type:"REJECT_LEAVE_PENDING",payload:e}}(s)),je.a.success(n)}else je.a.error(r)})).catch((function(e){console.error("error @directorRejectRequest: ",e)}))}}a(458);var yn,vn,bn,Dn=Q.a.Content,Cn=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onSearch=function(){var e=n.state.searchText,t=new RegExp(e,"gi");n.setState({filterDropdownNameVisible:!1,filtered:!!e,data:yn.map((function(a){return a.name.match(t)?Object(y.a)(Object(y.a)({},a),{},{name:r.a.createElement("span",null,a.name.split(new RegExp("(?<=".concat(e,")|(?=").concat(e,")"),"i")).map((function(t,a){return t.toLowerCase()===e.toLowerCase()?r.a.createElement("span",{key:a},t):t})))}):null})).filter((function(e){return!!e}))})},n.onSearchID=function(){var e=n.state.searchID,t=new RegExp(e,"gi");n.setState({filterDropdownIDVisible:!1,filtered:!!e,data:yn.map((function(a){return console.log("record=========",a),String(a.employee_number).match(t)?Object(y.a)(Object(y.a)({},a),{},{ID:r.a.createElement("span",null,n.state.data.map((function(t,a){return String(t.id)===e?r.a.createElement("span",{key:a,className:"highlight"},t):t})),"}")}):null})).filter((function(e){return!!e}))})},n.onInputChangeID=function(e){n.setState({searchID:e.target.value})},n.onInputChangeName=function(e){n.setState({searchText:e.target.value})},n.showDetail=function(e){n.setState({visible:!0,user:e})},n.onSelectChange=function(e){console.log("selected row: ",e)},n.handleOk=function(){var e=n.state.user&&n.state.user.id,t=n.state.user&&n.state.user.employee_number;n.setState({loadingA:!0}),n.directorApproveRequest(n.props.leaves,e,t),setTimeout((function(){n.setState({loadingA:!1,visible:!1})}),760)},n.handleReject=function(){var e=n.state.user&&n.state.user.id,t=n.state.user&&n.state.user.employee_number;n.setState({loadingR:!0}),n.directorRejectRequest(n.props.leaves,e,t,n.state.reason),setTimeout((function(){n.setState({loadingR:!1,visible:!1,visibleReject:!1})}),760)},n.showReject=function(){n.setState({visibleReject:!0})},n.handleCancelReject=function(){n.setState({visibleReject:!1})},n.handleCancel=function(){n.setState({visible:!1})},n.directorApproveRequest=function(e,t,a){n.props.directorApproveRequest(e,t,a)},n.directorRejectRequest=function(e,t,a,l){n.props.directorRejectRequest(e,t,a,l)},n.handleOnChange=function(e){var t=Object(y.a)(Object(y.a)({},n.props.leave),{},{[e.target.name]:e.target.value});n.setState({reason:t})},n.state={user:null,reason:null,data:n.props.leaves,loadingA:!1,loadingR:!1,visible:!1,filterDropdownVisible:!1,filterDropdownNameVisible:!1,filtered:!1,searchText:"",searchID:"",visibleReject:!1},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Director-List-Pending-Request ----------------- ")}},{key:"componentWillReceiveProps",value:function(e){e.leaves!==this.props.leaves&&this.setState({data:e.leaves}),yn=e.leaves}},{key:"componentDidMount",value:function(){localStorage.getItem("token")?"director"!==localStorage.getItem("role")&&this.props.history.push("/"):this.props.history.push("/"),this.props.fetchDirectorLeavePending()}},{key:"onShowSizeChange",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.visibleReject,l=t.loadingA,o=t.loadingR,s=[{title:"Request No.",dataIndex:"id",key:"id",width:90,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-id"},r.a.createElement(Z.a,{ref:function(t){return e.searchInput=t},placeholder:"Search request id",value:this.state.searchID,onChange:this.onInputChangeID,onPressEnter:this.onSearchID}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearchID},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownIDVisible:this.state.filterDropdownIDVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownIDVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Employee ID",dataIndex:"employee_number",key:"employee_number",width:100},{title:"Name",dataIndex:"name",key:"name",width:150,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-name"},r.a.createElement(Z.a,{ref:function(t){return e.searchInput=t},placeholder:"Search name",value:this.state.searchText,onChange:this.onInputChangeName,onPressEnter:this.onSearch}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearch},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownNameVisible:this.state.filterDropdownNameVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownNameVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Position",dataIndex:"position",key:"position",width:150},{title:"Email",dataIndex:"email",key:"email",width:150},{title:"Type Of Leave",dataIndex:"type_name",key:"type_name",width:150},{title:"From",dataIndex:"date_from",key:"date_from",width:120},{title:"To",dataIndex:"date_to",key:"date_to",width:120},{title:"Action",key:"action",width:100,render:function(t,a){return r.a.createElement("span",null,r.a.createElement(ee.a,{type:"primary",onClick:function(){return e.showDetail(a)}},"Detail"))}}];return this.props.loading?r.a.createElement(At,null):r.a.createElement(Q.a,null,r.a.createElement(ve,null),r.a.createElement(Dn,{className:"container",style:{display:"flex",margin:"20px 16px 0",justifyContent:"center",paddingBottom:"606px"}},r.a.createElement("div",{style:{padding:20,background:"#fff"}},r.a.createElement("h3",null,"List of Pending Request"),r.a.createElement(sa.a,{columns:s,dataSource:this.state.data,rowKey:function(e){return e.id},onRowClick:this.onSelectChange,pagination:{className:"my-pagination",defaultCurrent:1,defaultPageSize:5,total:"".concat(this.state.data&&this.state.data.length),showSizeChanger:this.onShowSizeChange}})),r.a.createElement("div",null,r.a.createElement(Ua.a,{visible:n,title:"Reject Reason",onOk:this.handleReject,onCancel:this.handleCancelReject,style:{top:"20"},bodyStyle:{padding:"0"},footer:[r.a.createElement(ee.a,{key:"reject",type:"danger",loading:o,onClick:this.handleReject},"Reject")]},r.a.createElement(Z.a,{type:"text",id:"reject_reason",name:"reject_reason",placeholder:"reject reason",onChange:this.handleOnChange}))),r.a.createElement(Ua.a,{visible:a,title:"Detail Leave Request Pending",onOk:this.handleOk,onCancel:this.handleCancel,style:{top:"20"},bodyStyle:{padding:"0"},width:"600px",footer:[r.a.createElement(ee.a,{key:"accept",type:"primary",loading:l,onClick:this.handleOk},"Approve"),r.a.createElement(ee.a,{key:"reject",type:"danger",loading:o,onClick:this.showReject},"Reject")]},r.a.createElement("div",{style:{padding:10,background:"#fff"}},r.a.createElement("table",null,r.a.createElement("thead",null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.name)),r.a.createElement("tr",null,r.a.createElement("td",null,"Gender"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.gender)),r.a.createElement("tr",null,r.a.createElement("td",null,"Email"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.email)),r.a.createElement("tr",null,r.a.createElement("td",null,"Type Of Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.type_name)),this.state.user&&""!==this.state.user.reason?r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.reason)):r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"From"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_from)),r.a.createElement("tr",null,r.a.createElement("td",null,"To"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_to)),this.state.user&&"{}"!==this.state.user.half_dates?r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.half_dates.substring(1,this.state.user.half_dates.length-1))):r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"Back On"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.back_on)),r.a.createElement("tr",null,r.a.createElement("td",null,"Total Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.total," day(s)")),r.a.createElement("tr",null,r.a.createElement("td",null,"Leave Balance"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.leave_remaining," days")),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Address"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_address)),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Number"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_number))))))),r.a.createElement(De,null))}}]),a}(l.Component),Sn=Object(f.b)((function(e){return{loading:e.fetchDirectorReducer.loading,leaves:e.fetchDirectorReducer.leaves}}),(function(e){return Object(E.b)({fetchDirectorLeavePending:hn,directorApproveRequest:En,directorRejectRequest:gn},e)}))(Cn),On=(a(459),Q.a.Content),wn=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onSearch=function(){var e=n.state.searchText,t=new RegExp(e,"gi");n.setState({filterDropdownNameVisible:!1,filtered:!!e,data:vn.map((function(a){return a.name.match(t)?Object(y.a)(Object(y.a)({},a),{},{name:r.a.createElement("span",null,a.name.split(new RegExp("(?<=".concat(e,")|(?=").concat(e,")"),"i")).map((function(t,a){return t.toLowerCase()===e.toLowerCase()?r.a.createElement("span",{key:a},t):t})))}):null})).filter((function(e){return!!e}))})},n.onSearchID=function(){var e=n.state.searchID,t=new RegExp(e,"gi");n.setState({filterDropdownIDVisible:!1,filtered:!!e,data:vn.map((function(a){return String(a.employee_number).match(t)?Object(y.a)(Object(y.a)({},a),{},{ID:r.a.createElement("span",null,n.state.data.map((function(t,a){return String(t.id)===e?r.a.createElement("span",{key:a,className:"highlight"},t):t})),"}")}):null})).filter((function(e){return!!e}))})},n.onInputChangeID=function(e){n.setState({searchID:e.target.value})},n.onInputChangeName=function(e){n.setState({searchText:e.target.value})},n.showDetail=function(e){n.setState({visible:!0,user:e})},n.onSelectChange=function(e){console.log("selected row: ",e)},n.handleCancel=function(){n.setState({visible:!1})},n.state={loading:!1,visible:!1,user:null,data:n.props.leaves,filterDropdownVisible:!1,filterDropdownNameVisible:!1,filtered:!1,searchText:"",searchID:""},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Director-List-Approve-Request ----------------- ")}},{key:"componentWillReceiveProps",value:function(e){e.leaves!==this.props.leaves&&this.setState({data:e.leaves}),vn=e.leaves}},{key:"componentDidMount",value:function(){localStorage.getItem("token")?"director"!==localStorage.getItem("role")&&this.props.history.push("/"):this.props.history.push("/"),this.props.fetchDirectorLeaveApprove()}},{key:"onShowSizeChange",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.loading,l=t.searchID,o=[{title:"Request No.",dataIndex:"id",key:"id",width:90,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-id"},r.a.createElement(Z.a,{type:"number",ref:function(t){return e.searchInput=t},placeholder:"Search request id",value:l,onChange:this.onInputChangeID,onPressEnter:this.onSearchID}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearchID},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownIDVisible:this.state.filterDropdownIDVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownIDVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Employee ID",dataIndex:"employee_number",key:"employee_number",width:100},{title:"Name",dataIndex:"name",key:"name",width:150,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-name"},r.a.createElement(Z.a,{ref:function(t){return e.searchInput=t},placeholder:"Search name",value:this.state.searchText,onChange:this.onInputChangeName,onPressEnter:this.onSearch}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearch},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownNameVisible:this.state.filterDropdownNameVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownNameVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Position",dataIndex:"position",key:"position",width:150},{title:"Email",dataIndex:"email",key:"email",width:150},{title:"Type Of Leave",dataIndex:"type_name",key:"type_name",width:150},{title:"From",dataIndex:"date_from",key:"date_from",width:120},{title:"To",dataIndex:"date_to",key:"date_to",width:120},{title:"Action",key:"action",width:100,render:function(t,a){return r.a.createElement("span",null,r.a.createElement(ee.a,{type:"primary",onClick:function(){return e.showDetail(a)}},"Detail"))}}];return this.props.loading?r.a.createElement(At,null):r.a.createElement(Q.a,null,r.a.createElement(ve,null),r.a.createElement(On,{className:"container",style:{display:"flex",margin:"20px 16px 0",justifyContent:"center",paddingBottom:"606px"}},r.a.createElement("div",{style:{padding:20,background:"#fff"}},r.a.createElement("h3",null,"List of Approve Request"),r.a.createElement(sa.a,{columns:o,dataSource:this.state.data,rowKey:function(e){return e.id},onRowClick:this.onSelectChange,pagination:{className:"my-pagination",defaultCurrent:1,defaultPageSize:5,total:"".concat(this.state.data&&this.state.data.length),showSizeChanger:this.onShowSizeChange}})),r.a.createElement(Ua.a,{visible:a,title:"Detail Leave Request Approved",onCancel:this.handleCancel,style:{top:"20"},bodyStyle:{padding:"0"},width:"600px",footer:[r.a.createElement(ee.a,{key:"cancel",loading:n,onClick:this.handleCancel},"Return")]},r.a.createElement("div",{style:{padding:10,background:"#fff"}},r.a.createElement("table",null,r.a.createElement("thead",null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.name)),r.a.createElement("tr",null,r.a.createElement("td",null,"Gender"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.gender)),r.a.createElement("tr",null,r.a.createElement("td",null,"Email"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.email)),r.a.createElement("tr",null,r.a.createElement("td",null,"Type Of Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.type_name)),this.state.user&&""!==this.state.user.reason?r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.reason)):r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"From"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_from)),r.a.createElement("tr",null,r.a.createElement("td",null,"To"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_to)),this.state.user&&"{}"!==this.state.user.half_dates?r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.half_dates.substring(1,this.state.user.half_dates.length-1))):r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"Back On"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.back_on)),r.a.createElement("tr",null,r.a.createElement("td",null,"Total Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.total," day(s)")),r.a.createElement("tr",null,r.a.createElement("td",null,"Before Leave Balance"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.before_leave_balance," days")),r.a.createElement("tr",null,r.a.createElement("td",null,"After Leave Balance"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.after_leave_balance," days")),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Address"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_address)),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Number"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_number)),this.state.user&&""!==this.state.user.notes?r.a.createElement("tr",null,r.a.createElement("td",null,"Notes"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.notes)):r.a.createElement("tr",null,r.a.createElement("td",null,"Notes"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-"))))))),r.a.createElement(De,null))}}]),a}(l.Component),_n=Object(f.b)((function(e){return{loading:e.fetchDirectorReducer.loading,leaves:e.fetchDirectorReducer.leaves}}),(function(e){return Object(E.b)({fetchDirectorLeaveApprove:pn},e)}))(wn),kn=(a(460),Q.a.Content),jn=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onSearch=function(){var e=n.state.searchText,t=new RegExp(e,"gi");n.setState({filterDropdownNameVisible:!1,filtered:!!e,data:bn.map((function(a){return a.name.match(t)?Object(y.a)(Object(y.a)({},a),{},{name:r.a.createElement("span",null,a.name.split(new RegExp("(?<=".concat(e,")|(?=").concat(e,")"),"i")).map((function(t,a){return t.toLowerCase()===e.toLowerCase()?r.a.createElement("span",{key:a},t):t})))}):null})).filter((function(e){return!!e}))})},n.onSearchID=function(){var e=n.state.searchID,t=new RegExp(e,"gi");n.setState({filterDropdownIDVisible:!1,filtered:!!e,data:bn.map((function(a){return String(a.employee_number).match(t)?Object(y.a)(Object(y.a)({},a),{},{ID:r.a.createElement("span",null,n.state.data.map((function(t,a){return String(t.id)===e?r.a.createElement("span",{key:a,className:"highlight"},t):t})),"}")}):null})).filter((function(e){return!!e}))})},n.onInputChangeID=function(e){n.setState({searchID:e.target.value})},n.onInputChangeName=function(e){n.setState({searchText:e.target.value})},n.showDetail=function(e){n.setState({visible:!0,user:e})},n.onSelectChange=function(e){console.log("selected row: ",e)},n.handleCancel=function(){n.setState({visible:!1})},n.state={loading:!1,visible:!1,user:null,data:n.props.leaves,filterDropdownVisible:!1,filterDropdownNameVisible:!1,filtered:!1,searchText:"",searchID:""},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log("------------ Director-List-Reject-Request -------------------")}},{key:"componentWillReceiveProps",value:function(e){e.leaves!==this.props.leaves&&this.setState({data:e.leaves}),bn=e.leaves}},{key:"componentDidMount",value:function(){localStorage.getItem("token")?"director"!==localStorage.getItem("role")&&this.props.history.push("/"):this.props.history.push("/"),this.props.fetchDirectorLeaveReject()}},{key:"onShowSizeChange",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.loading,l=t.searchID,o=[{title:"Request No.",dataIndex:"id",key:"id",width:90,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-id"},r.a.createElement(Z.a,{type:"number",ref:function(t){return e.searchInput=t},placeholder:"Search request id",value:l,onChange:this.onInputChangeID,onPressEnter:this.onSearchID}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearchID},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownIDVisible:this.state.filterDropdownIDVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownIDVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Employee ID",dataIndex:"employee_number",key:"employee_number",width:100},{title:"Name",dataIndex:"name",key:"name",width:150,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-name"},r.a.createElement(Z.a,{ref:function(t){return e.searchInput=t},placeholder:"Search name",value:this.state.searchText,onChange:this.onInputChangeName,onPressEnter:this.onSearch}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearch},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownNameVisible:this.state.filterDropdownNameVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownNameVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Position",dataIndex:"position",key:"position",width:150},{title:"Email",dataIndex:"email",key:"email",width:150},{title:"Type Of Leave",dataIndex:"type_name",key:"type_name",width:150},{title:"From",dataIndex:"date_from",key:"date_from",width:120},{title:"To",dataIndex:"date_to",key:"date_to",width:120},{title:"Action",key:"action",width:100,render:function(t,a){return r.a.createElement("span",null,r.a.createElement(ee.a,{type:"primary",onClick:function(){return e.showDetail(a)}},"Detail"))}}];return this.props.loading?r.a.createElement(At,null):r.a.createElement(Q.a,null,r.a.createElement(ve,null),r.a.createElement(kn,{className:"container",style:{display:"flex",margin:"20px 16px 0",justifyContent:"center",paddingBottom:"606px"}},r.a.createElement("div",{style:{padding:20,background:"#fff"}},r.a.createElement("h3",null,"List of Reject Request"),r.a.createElement(sa.a,{columns:o,dataSource:this.state.data,rowKey:function(e){return e.id},onRowClick:this.onSelectChange,pagination:{className:"my-pagination",defaultCurrent:1,defaultPageSize:5,total:"".concat(this.state.data&&this.state.data.length),showSizeChanger:this.onShowSizeChange}})),r.a.createElement(Ua.a,{visible:a,title:"Detail Leave Request Rejected",onCancel:this.handleCancel,style:{top:"20"},bodyStyle:{padding:"0"},width:"600px",footer:[r.a.createElement(ee.a,{key:"cancel",loading:n,onClick:this.handleCancel},"Return")]},r.a.createElement("div",{style:{padding:10,background:"#fff"}},r.a.createElement("table",null,r.a.createElement("thead",null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.name)),r.a.createElement("tr",null,r.a.createElement("td",null,"Gender"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.gender)),r.a.createElement("tr",null,r.a.createElement("td",null,"Email"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.email)),r.a.createElement("tr",null,r.a.createElement("td",null,"Type Of Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.type_name)),this.state.user&&""!==this.state.user.reason?r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.reason)):r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"From"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_from)),r.a.createElement("tr",null,r.a.createElement("td",null,"To"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_to)),this.state.user&&"{}"!==this.state.user.half_dates?r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.half_dates.substring(1,this.state.user.half_dates.length-1))):r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"Back On"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.back_on)),r.a.createElement("tr",null,r.a.createElement("td",null,"Total Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.total," day(s)")),r.a.createElement("tr",null,r.a.createElement("td",null,"Leave Balance"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.leave_remaining," days")),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Address"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_address)),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Number"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_number)),r.a.createElement("tr",null,r.a.createElement("td",null,"Reject Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.reject_reason)),this.state.user&&""!==this.state.user.notes?r.a.createElement("tr",null,r.a.createElement("td",null,"Notes"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.notes)):r.a.createElement("tr",null,r.a.createElement("td",null,"Notes"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-"))))))),r.a.createElement(De,null))}}]),a}(l.Component),In=Object(f.b)((function(e){return{loading:e.fetchDirectorReducer.loading,leaves:e.fetchDirectorReducer.leaves}}),(function(e){return Object(E.b)({fetchDirectorLeaveReject:fn},e)}))(jn),Rn=a(166);function Ln(){var e=localStorage.getItem("id");return function(t){Promise.all([fetch("".concat(v,"/api/user/summary/").concat(e),{method:"GET"}),fetch("".concat(v,"/api/user/type-leave/").concat(e),{method:"GET"})]).then((function(e){var t=Object(Rn.a)(e,2),a=t[0],n=t[1];return[a.json(),n.json()]})).then((function(e){var a=Object(Rn.a)(e,2),n=a[0],l=a[1];n.then((function(e){l.then((function(a){var n={loading:!1,userSummary:e.body,userType:a.body};t(function(e){return{type:"FETCH_USER_SUMMARY",payload:e}}(n))})).catch((function(e){console.error("error @userSummaryFetchData: ",e)}))})).catch((function(e){console.error("error @userSummaryFetchData: ",e)}))})).catch((function(e){console.error("error @userSummaryFetchData: ",e)}))}}a(461);var xn=a(474),Nn=a(475),Tn=Q.a.Content,Fn=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Supervisor-Landing-Page ----------------- ")}},{key:"componentDidMount",value:function(){localStorage.getItem("token")?"supervisor"!==localStorage.getItem("role")&&this.props.history.push("/"):this.props.history.push("/"),this.props.userSummaryFetchData()}},{key:"render",value:function(){var e=[],t=[],a=this.props.userSummary,n=this.props.userType;if(a)for(var l=0;l<a.length;l++)e.push(r.a.createElement("p",null,a[l].type_name,": ",a[l].used," day(s)"));else e.push(r.a.createElement("p",null));for(var o in n)"Annual Leave"===n[o].type_name?t.push(r.a.createElement("p",null,"".concat(n[o].type_name," : ").concat(n[o].leave_remaining," days of 12 days"))):"Sick Leave"===n[o].type_name?t.push(r.a.createElement("p",null,"".concat(n[o].type_name," : ").concat(n[o].leave_remaining," days of 30 days"))):"Marriage Leave"===n[o].type_name?t.push(r.a.createElement("p",null,"".concat(n[o].type_name," : ").concat(n[o].leave_remaining," days of 2 days"))):"Maternity Leave"===n[o].type_name&&t.push(r.a.createElement("p",null,"".concat(n[o].type_name," : ").concat(n[o].leave_remaining," days of 90 days")));return this.props.loading?r.a.createElement(At,null):r.a.createElement("div",null,r.a.createElement(Q.a,null,r.a.createElement(ve,null),r.a.createElement(Tn,{className:"container",style:{display:"flex",margin:"20px 16px 0",justifyContent:"center",paddingBottom:"547px"}},r.a.createElement("div",{style:{padding:20,width:"50%",background:"#fff"}},r.a.createElement(xn.a,null,r.a.createElement(Nn.a,{span:12},r.a.createElement("div",{style:{float:"left"}},r.a.createElement("h3",null," ","Used so far",r.a.createElement("hr",{className:"id",style:{borderBottom:"1px solid black",width:"276px"}})),e)),r.a.createElement(Nn.a,{span:12},r.a.createElement("div",{style:{float:"right"}},r.a.createElement("h3",null,"Available types",r.a.createElement("hr",{className:"id",style:{borderBottom:"1px solid black",width:"276px"}})),t))))),r.a.createElement(De,null)))}}]),a}(r.a.Component),Yn=Object(f.b)((function(e){return{loading:e.fetchUserSummaryReducer.loading,userSummary:e.fetchUserSummaryReducer.userSummary,userType:e.fetchUserSummaryReducer.userType}}),(function(e){return Object(E.b)({userSummaryFetchData:Ln},e)}))(Fn);function An(){var e=localStorage.getItem("id");return function(t){fetch("".concat(v,"/api/supervisor/pending/").concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){var a=e.body,n=e.error;t(function(e){return{type:"FETCH_LEAVE_PENDING",payload:e}}({loading:!1,leaves:a})),null!==n&&console.error("error not null @fetchSupervisorLeavePending: ",n)})).catch((function(e){console.error("error @fetchSupervisorLeavePending: ",e)}))}}function Pn(){var e=localStorage.getItem("id");return function(t){fetch("".concat(v,"/api/supervisor/accept/").concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){var a=e.body,n=e.error;t(function(e){return{type:"FETCH_LEAVE_APPROVE",payload:e}}({loading:!1,leaves:a})),null!==n&&console.error("error not null @fetchSupervisorLeaveApprove: ",n)})).catch((function(e){console.error("error @fetchSupervisorLeaveApprove: ",e)}))}}function Mn(){var e=localStorage.getItem("id");return function(t){fetch("".concat(v,"/api/supervisor/reject/").concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){var a=e.body,n=e.error;t(function(e){return{type:"FETCH_LEAVE_REJECT",payload:e}}({loading:!1,leaves:a})),null!==n&&console.error("error not null @fetchSupervisorLeaveReject: ",n)})).catch((function(e){console.error("error @fetchSupervisorLeaveReject: ",e)}))}}function qn(e,t,a){return function(n){fetch("".concat(v,"/api/supervisor/accept/").concat(t,"/").concat(a),{method:"PUT"}).then((function(e){return e.json()})).then((function(a){var l=a.body,r=a.error;if(null!==l){var o=e.filter((function(e){return e.id!==t})),s={loading:!1,leaves:Object(Gt.a)(o)};n(function(e){return{type:"APPROVE_LEAVE_PENDING",payload:e}}(s)),je.a.success(l)}else je.a.error(r)})).catch((function(e){console.error("error @supervisorApproveRequest: ",e)}))}}function Vn(e,t,a,n){return function(l){fetch("".concat(v,"/api/supervisor/reject/").concat(t,"/").concat(a),{method:"PUT",body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(a){var n=a.body,r=a.error;if(null!==n){var o=e.filter((function(e){return e.id!==t})),s={loading:!1,leaves:Object(Gt.a)(o)};l(function(e){return{type:"REJECT_LEAVE_PENDING",payload:e}}(s)),je.a.success(n)}else je.a.error(r)})).catch((function(e){console.error("error @supervisorRejectRequest: ",e)}))}}a(462);var Bn,Hn,Un,Gn=Q.a.Content,Wn=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onSearch=function(){var e=n.state.searchText,t=new RegExp(e,"gi");n.setState({filterDropdownNameVisible:!1,filtered:!!e,data:Bn.map((function(a){return a.name.match(t)?Object(y.a)(Object(y.a)({},a),{},{name:r.a.createElement("span",null,a.name.split(new RegExp("(?<=".concat(e,")|(?=").concat(e,")"),"i")).map((function(t,a){return t.toLowerCase()===e.toLowerCase()?r.a.createElement("span",{key:a},t):t})))}):null})).filter((function(e){return!!e}))})},n.onSearchID=function(){var e=n.state.searchID,t=new RegExp(e,"gi");n.setState({filterDropdownIDVisible:!1,filtered:!!e,data:Bn.map((function(a){return String(a.employee_number).match(t)?Object(y.a)(Object(y.a)({},a),{},{ID:r.a.createElement("span",null,n.state.data.map((function(t,a){return String(t.id)===e?r.a.createElement("span",{key:a,className:"highlight"},t):t})),"}")}):null})).filter((function(e){return!!e}))})},n.onInputChangeID=function(e){n.setState({searchID:e.target.value})},n.onInputChangeName=function(e){n.setState({searchText:e.target.value})},n.showDetail=function(e){n.setState({visible:!0,user:e})},n.onSelectChange=function(e){console.log("selected row: ",e)},n.showReject=function(){n.setState({visibleReject:!0})},n.handleOk=function(){var e=n.state.user&&n.state.user.id,t=n.state.user&&n.state.user.employee_number;n.setState({loadingA:!0}),n.supervisorApproveRequest(n.props.leaves,e,t),setTimeout((function(){n.setState({loadingA:!1,visible:!1})}),760)},n.supervisorApproveRequest=function(e,t,a){n.props.supervisorApproveRequest(e,t,a)},n.handleReject=function(){var e=n.state.user&&n.state.user.id,t=n.state.user&&n.state.user.employee_number;n.setState({loadingR:!0}),n.supervisorRejectRequest(n.props.leaves,e,t,n.state.reason),setTimeout((function(){n.setState({loadingR:!1,visible:!1,visibleReject:!1})}),760)},n.handleOnChange=function(e){var t=Object(y.a)(Object(y.a)({},n.props.leave),{},{[e.target.name]:e.target.value});n.setState({reason:t})},n.supervisorRejectRequest=function(e,t,a,l){n.props.supervisorRejectRequest(e,t,a,l)},n.handleCancelReject=function(){n.setState({visibleReject:!1})},n.handleCancel=function(){n.setState({visible:!1})},n.state={loadingA:!1,loadingR:!1,visible:!1,visibleReject:!1,user:null,reason:null,data:n.props.leaves,filterDropdownVisible:!1,filterDropdownNameVisible:!1,filtered:!1,searchText:"",searchID:""},n.handleReject=n.handleReject.bind(Object(U.a)(n)),n.handleOnChange=n.handleOnChange.bind(Object(U.a)(n)),n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Supervisor-List-Pending-Request ----------------- ")}},{key:"componentWillReceiveProps",value:function(e){e.leaves!==this.props.leaves&&this.setState({data:e.leaves}),Bn=e.leaves}},{key:"componentDidMount",value:function(){localStorage.getItem("token")?"supervisor"!==localStorage.getItem("role")&&this.props.history.push("/"):this.props.history.push("/"),this.props.fetchSupervisorLeavePending()}},{key:"onShowSizeChange",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.visibleReject,l=t.loadingA,o=t.loadingR,s=[{title:"Request No.",dataIndex:"id",key:"id",width:90,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-id"},r.a.createElement(Z.a,{type:"number",ref:function(t){return e.searchInput=t},placeholder:"Search request id",value:this.state.searchID,onChange:this.onInputChangeID,onPressEnter:this.onSearchID}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearchID},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownIDVisible:this.state.filterDropdownIDVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownIDVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Employee ID",dataIndex:"employee_number",key:"employee_number",width:100},{title:"Name",dataIndex:"name",key:"name",width:150,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-name"},r.a.createElement(Z.a,{ref:function(t){return e.searchInput=t},placeholder:"Search name",value:this.state.searchText,onChange:this.onInputChangeName,onPressEnter:this.onSearch}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearch},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownNameVisible:this.state.filterDropdownNameVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownNameVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Position",dataIndex:"position",key:"position",width:150},{title:"Email",dataIndex:"email",key:"email",width:150},{title:"Type Of Leave",dataIndex:"type_name",key:"type_name",width:150},{title:"From",dataIndex:"date_from",key:"date_from",width:120},{title:"To",dataIndex:"date_to",key:"date_to",width:120},{title:"Action",key:"action",width:100,render:function(t,a){return r.a.createElement("span",null,r.a.createElement(ee.a,{type:"primary",onClick:function(){return e.showDetail(a)}},"Detail"))}}];return this.props.loading?r.a.createElement(At,null):r.a.createElement(Q.a,null,r.a.createElement(ve,null),r.a.createElement(Gn,{className:"container",style:{display:"flex",margin:"20px 10px 0",justifyContent:"center",paddingBottom:"606px"}},r.a.createElement("div",{style:{padding:20,background:"#fff"}},r.a.createElement("h3",null,"List of Pending Request"),r.a.createElement(sa.a,{columns:s,dataSource:this.state.data,rowKey:function(e){return e.employee_number},onRowClick:this.onSelectChange,pagination:{className:"my-pagination",defaultCurrent:1,defaultPageSize:5,total:"".concat(this.state.data&&this.state.data.length),showSizeChanger:this.onShowSizeChange}})),r.a.createElement("div",null,r.a.createElement(Ua.a,{visible:n,title:"Reject Reason",onOk:this.handleReject,onCancel:this.handleCancelReject,style:{top:"20"},bodyStyle:{padding:"0"},footer:[r.a.createElement(ee.a,{key:"reject",type:"danger",loading:o,onClick:this.handleReject},"Reject")]},r.a.createElement(Z.a,{type:"text",id:"reject_reason",name:"reject_reason",placeholder:"reject reason",onChange:this.handleOnChange}))),r.a.createElement(Ua.a,{visible:a,title:"Detail Leave Request Pending",onOk:this.handleOk,onCancel:this.handleCancel,style:{top:"20"},bodyStyle:{padding:"0"},width:"600px",footer:[r.a.createElement(ee.a,{key:"accept",type:"primary",loading:l,onClick:this.handleOk},"Approve"),r.a.createElement(ee.a,{type:"danger",onClick:this.showReject},"Reject")]},r.a.createElement("div",{style:{padding:10,background:"#fff"}},r.a.createElement("table",null,r.a.createElement("thead",null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.name)),r.a.createElement("tr",null,r.a.createElement("td",null,"Gender"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.gender)),r.a.createElement("tr",null,r.a.createElement("td",null,"Email"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.email)),r.a.createElement("tr",null,r.a.createElement("td",null,"Type Of Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.type_name)),this.state.user&&""!==this.state.user.reason?r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.reason)):r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"From"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_from)),r.a.createElement("tr",null,r.a.createElement("td",null,"To"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_to)),this.state.user&&"{}"!==this.state.user.half_dates?r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.half_dates.substring(1,this.state.user.half_dates.length-1))):r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"Back On"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.back_on)),r.a.createElement("tr",null,r.a.createElement("td",null,"Total Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.total," day(s)")),r.a.createElement("tr",null,r.a.createElement("td",null,"Leave Balance"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.leave_remaining," days")),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Address"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_address)),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Number"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_number))))))),r.a.createElement(De,null))}}]),a}(l.Component),zn=Object(f.b)((function(e){return{loading:e.fetchSupervisorReducer.loading,leaves:e.fetchSupervisorReducer.leaves,leave:e.fetchSupervisorReducer.leave}}),(function(e){return Object(E.b)({fetchSupervisorLeavePending:An,supervisorApproveRequest:qn,supervisorRejectRequest:Vn},e)}))(Wn),Jn=(a(463),Q.a.Content),Kn=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onSearch=function(){var e=n.state.searchText,t=new RegExp(e,"gi");n.setState({filterDropdownNameVisible:!1,filtered:!!e,data:Hn.map((function(a){return a.name.match(t)?Object(y.a)(Object(y.a)({},a),{},{name:r.a.createElement("span",null,a.name.split(new RegExp("(?<=".concat(e,")|(?=").concat(e,")"),"i")).map((function(t,a){return t.toLowerCase()===e.toLowerCase()?r.a.createElement("span",{key:a},t):t})))}):null})).filter((function(e){return!!e}))})},n.onSearchID=function(){var e=n.state.searchID,t=new RegExp(e,"gi");n.setState({filterDropdownIDVisible:!1,filtered:!!e,data:Hn.map((function(a){return String(a.employee_number).match(t)?Object(y.a)(Object(y.a)({},a),{},{ID:r.a.createElement("span",null,n.state.data.map((function(t,a){return String(t.id)===e?r.a.createElement("span",{key:a,className:"highlight"},t):t})),"}")}):null})).filter((function(e){return!!e}))})},n.onInputChangeID=function(e){n.setState({searchID:e.target.value})},n.onInputChangeName=function(e){n.setState({searchText:e.target.value})},n.showDetail=function(e){n.setState({visible:!0,user:e})},n.onSelectChange=function(e){console.log("selected row: ",e)},n.handleCancel=function(){n.setState({visible:!1})},n.state={loading:!1,visible:!1,user:null,data:n.props.leaves,filterDropdownVisible:!1,filterDropdownNameVisible:!1,filtered:!1,searchText:"",searchID:""},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Supervisor-List-Approve-Request ----------------- ")}},{key:"componentWillReceiveProps",value:function(e){e.leaves!==this.props.leaves&&this.setState({data:e.leaves}),Hn=e.leaves}},{key:"componentDidMount",value:function(){localStorage.getItem("token")?"supervisor"!==localStorage.getItem("role")&&this.props.history.push("/"):this.props.history.push("/"),this.props.fetchSupervisorLeaveApprove()}},{key:"onShowSizeChange",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.loading,l=[{title:"Request No.",dataIndex:"id",key:"id",width:90,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-id"},r.a.createElement(Z.a,{type:"number",ref:function(t){return e.searchInput=t},placeholder:"Search request id",value:this.state.searchID,onChange:this.onInputChangeID,onPressEnter:this.onSearchID}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearchID},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownIDVisible:this.state.filterDropdownIDVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownIDVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Employee ID",dataIndex:"employee_number",key:"employee_number",width:100},{title:"Name",dataIndex:"name",key:"name",width:150,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-name"},r.a.createElement(Z.a,{ref:function(t){return e.searchInput=t},placeholder:"Search name",value:this.state.searchText,onChange:this.onInputChangeName,onPressEnter:this.onSearch}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearch},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownNameVisible:this.state.filterDropdownNameVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownNameVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Position",dataIndex:"position",key:"position",width:150},{title:"Email",dataIndex:"email",key:"email",width:150},{title:"Type Of Leave",dataIndex:"type_name",key:"type_name",width:150},{title:"From",dataIndex:"date_from",key:"date_from",width:120},{title:"To",dataIndex:"date_to",key:"date_to",width:120},{title:"Action",key:"action",width:100,render:function(t,a){return r.a.createElement("span",null,r.a.createElement(ee.a,{type:"primary",onClick:function(){return e.showDetail(a)}},"Detail"))}}];return this.props.loading?r.a.createElement(At,null):r.a.createElement(Q.a,null,r.a.createElement(ve,null),r.a.createElement(Jn,{className:"container",style:{display:"flex",margin:"20px 16px 0",justifyContent:"space-around",paddingBottom:"606px"}},r.a.createElement("div",{style:{padding:20,background:"#fff"}},r.a.createElement("h3",null,"List of Approve Request"),r.a.createElement(sa.a,{columns:l,dataSource:this.state.data,rowKey:function(e){return e.employee_number},onRowClick:this.onSelectChange,pagination:{className:"my-pagination",defaultCurrent:1,defaultPageSize:5,total:"".concat(this.state.data&&this.state.data.length),showSizeChanger:this.onShowSizeChange}})),r.a.createElement(Ua.a,{visible:a,title:"Detail Leave Request Approved",onCancel:this.handleCancel,style:{top:"20"},bodyStyle:{padding:"0"},width:"600px",footer:[r.a.createElement(ee.a,{key:"cancel",loading:n,onClick:this.handleCancel},"Return")]},r.a.createElement("div",{style:{padding:10,background:"#fff"}},r.a.createElement("table",null,r.a.createElement("thead",null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.name)),r.a.createElement("tr",null,r.a.createElement("td",null,"Gender"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.gender)),r.a.createElement("tr",null,r.a.createElement("td",null,"Email"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.email)),r.a.createElement("tr",null,r.a.createElement("td",null,"Type Of Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.type_name)),this.state.user&&""!==this.state.user.reason?r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.reason)):r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"From"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_from)),r.a.createElement("tr",null,r.a.createElement("td",null,"To"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_to)),this.state.user&&"{}"!==this.state.user.half_dates?r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.half_dates.substring(1,this.state.user.half_dates.length-1))):r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"Back On"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.back_on)),r.a.createElement("tr",null,r.a.createElement("td",null,"Total Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.total," day(s)")),r.a.createElement("tr",null,r.a.createElement("td",null,"Before Leave Balance"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.before_leave_balance," days")),r.a.createElement("tr",null,r.a.createElement("td",null,"After Leave Balance"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.after_leave_balance," days")),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Address"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_address)),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Number"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_number)),r.a.createElement("tr",null,r.a.createElement("td",null,"Status"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.status))))))),r.a.createElement(De,null))}}]),a}(l.Component),Qn=Object(f.b)((function(e){return{loading:e.fetchSupervisorReducer.loading,leaves:e.fetchSupervisorReducer.leaves}}),(function(e){return Object(E.b)({fetchSupervisorLeaveApprove:Pn},e)}))(Kn),$n=(a(464),Q.a.Content),Xn=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onSearch=function(){var e=n.state.searchText,t=new RegExp(e,"gi");n.setState({filterDropdownNameVisible:!1,filtered:!!e,data:Un.map((function(a){return a.name.match(t)?Object(y.a)(Object(y.a)({},a),{},{name:r.a.createElement("span",null,a.name.split(new RegExp("(?<=".concat(e,")|(?=").concat(e,")"),"i")).map((function(t,a){return t.toLowerCase()===e.toLowerCase()?r.a.createElement("span",{key:a},t):t})))}):null})).filter((function(e){return!!e}))})},n.onSearchID=function(){var e=n.state.searchID,t=new RegExp(e,"gi");n.setState({filterDropdownIDVisible:!1,filtered:!!e,data:Un.map((function(a){return String(a.employee_number).match(t)?Object(y.a)(Object(y.a)({},a),{},{ID:r.a.createElement("span",null,n.state.data.map((function(t,a){return String(t.id)===e?r.a.createElement("span",{key:a,className:"highlight"},t):t})),"}")}):null})).filter((function(e){return!!e}))})},n.onInputChangeID=function(e){n.setState({searchID:e.target.value})},n.onInputChangeName=function(e){n.setState({searchText:e.target.value})},n.showDetail=function(e){n.setState({visible:!0,user:e})},n.onSelectChange=function(e){console.log("selected row: ",e)},n.handleCancel=function(){n.setState({visible:!1})},n.state={loading:!1,visible:!1,user:null,data:n.props.leaves,filterDropdownVisible:!1,filterDropdownNameVisible:!1,filtered:!1,searchText:"",searchID:""},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Supervisor-List-Reject-Request ----------------- ")}},{key:"componentWillReceiveProps",value:function(e){e.leaves!==this.props.leaves&&this.setState({data:e.leaves}),Un=e.leaves}},{key:"componentDidMount",value:function(){localStorage.getItem("token")?"supervisor"!==localStorage.getItem("role")&&this.props.history.push("/"):this.props.history.push("/"),this.props.fetchSupervisorLeaveReject()}},{key:"onShowSizeChange",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.loading,l=[{title:"Request No.",dataIndex:"id",key:"id",width:90,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-id"},r.a.createElement(Z.a,{type:"number",ref:function(t){return e.searchInput=t},placeholder:"Search request id",value:this.state.searchID,onChange:this.onInputChangeID,onPressEnter:this.onSearchID}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearchID},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownIDVisible:this.state.filterDropdownIDVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownIDVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Employee ID",dataIndex:"employee_number",key:"employee_number",width:100},{title:"Name",dataIndex:"name",key:"name",width:150,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-name"},r.a.createElement(Z.a,{ref:function(t){return e.searchInput=t},placeholder:"Search name",value:this.state.searchText,onChange:this.onInputChangeName,onPressEnter:this.onSearch}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearch},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownNameVisible:this.state.filterDropdownNameVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownNameVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Position",dataIndex:"position",key:"position",width:150},{title:"Email",dataIndex:"email",key:"email",width:150},{title:"Type Of Leave",dataIndex:"type_name",key:"type_name",width:150},{title:"From",dataIndex:"date_from",key:"date_from",width:120},{title:"To",dataIndex:"date_to",key:"date_to",width:120},{title:"Action",key:"action",width:100,render:function(t,a){return r.a.createElement("span",null,r.a.createElement(ee.a,{type:"primary",onClick:function(){return e.showDetail(a)}},"Detail"))}}];return this.props.loading?r.a.createElement(At,null):r.a.createElement(Q.a,null,r.a.createElement(ve,null),r.a.createElement($n,{className:"container",style:{display:"flex",margin:"20px 16px 0",justifyContent:"center",paddingBottom:"606px"}},r.a.createElement("div",{style:{padding:20,background:"#fff"}},r.a.createElement("h3",null,"List of Reject Request"),r.a.createElement(sa.a,{columns:l,dataSource:this.state.data,rowKey:function(e){return e.employee_number},onRowClick:this.onSelectChange,pagination:{className:"my-pagination",defaultCurrent:1,defaultPageSize:5,total:"".concat(this.state.data&&this.state.data.length),showSizeChanger:this.onShowSizeChange}})),r.a.createElement(Ua.a,{visible:a,title:"Detail Leave Request Rejected",onCancel:this.handleCancel,style:{top:"20"},bodyStyle:{padding:"0"},width:"600px",footer:[r.a.createElement(ee.a,{key:"cancel",loading:n,onClick:this.handleCancel},"Return")]},r.a.createElement("div",{style:{padding:10,background:"#fff"}},r.a.createElement("table",null,r.a.createElement("thead",null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.name)),r.a.createElement("tr",null,r.a.createElement("td",null,"Gender"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.gender)),r.a.createElement("tr",null,r.a.createElement("td",null,"Email"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.email)),r.a.createElement("tr",null,r.a.createElement("td",null,"Type Of Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.type_name)),this.state.user&&""!==this.state.user.reason?r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.reason)):r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"From"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_from)),r.a.createElement("tr",null,r.a.createElement("td",null,"To"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_to)),this.state.user&&"{}"!==this.state.user.half_dates?r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.half_dates.substring(1,this.state.user.half_dates.length-1))):r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"Back On"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.back_on)),r.a.createElement("tr",null,r.a.createElement("td",null,"Total Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.total," day(s)")),r.a.createElement("tr",null,r.a.createElement("td",null,"Leave Balance"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.leave_remaining," days")),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Address"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_address)),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Number"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_number)),r.a.createElement("tr",null,r.a.createElement("td",null,"Reject Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.reject_reason))))))),r.a.createElement(De,null))}}]),a}(l.Component),Zn=Object(f.b)((function(e){return{loading:e.fetchSupervisorReducer.loading,leaves:e.fetchSupervisorReducer.leaves}}),(function(e){return Object(E.b)({fetchSupervisorLeaveReject:Mn},e)}))(Xn),el=(a(465),Q.a.Content),tl=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log(" ----------------- Employee-Landing-Page ----------------- ")}},{key:"componentDidMount",value:function(){localStorage.getItem("token")?"employee"!==localStorage.getItem("role")&&this.props.history.push("/"):this.props.history.push("/"),this.props.userSummaryFetchData()}},{key:"render",value:function(){var e=[],t=[],a=this.props.userSummary,n=this.props.userType;if(a)for(var l=0;l<a.length;l++)e.push(r.a.createElement("p",null,a[l].type_name,": ",a[l].used," day(s)"));else e.push(r.a.createElement("p",null));for(var o in n)"Annual Leave"===n[o].type_name?t.push(r.a.createElement("p",null,"".concat(n[o].type_name," : ").concat(n[o].leave_remaining," days of 12 days"))):"Sick Leave"===n[o].type_name?t.push(r.a.createElement("p",null,"".concat(n[o].type_name," : ").concat(n[o].leave_remaining," days of 30 days"))):"Marriage Leave"===n[o].type_name?t.push(r.a.createElement("p",null,"".concat(n[o].type_name," : ").concat(n[o].leave_remaining," days of 2 days")," ")):"Maternity Leave"===n[o].type_name&&t.push(r.a.createElement("p",null,"".concat(n[o].type_name," : ").concat(n[o].leave_remaining," days of 90 days")));return this.props.loading?r.a.createElement(At,null):r.a.createElement("div",null,r.a.createElement(Q.a,null,r.a.createElement(ve,null),r.a.createElement(el,{className:"container",style:{display:"flex",margin:"20px 16px 0",justifyContent:"space-around",paddingBottom:"542px"}},r.a.createElement("div",{style:{padding:40,width:"50%",background:"#fff"}},r.a.createElement(xn.a,null,r.a.createElement(Nn.a,{span:12},r.a.createElement("div",{style:{float:"left"}},r.a.createElement("h3",null," ","Used so far",r.a.createElement("hr",{className:"id",style:{borderBottom:"1px solid black",width:"276px"}})),e)),r.a.createElement(Nn.a,{span:12},r.a.createElement("div",{style:{float:"right"}},r.a.createElement("h3",null,"Available types",r.a.createElement("hr",{className:"id",style:{borderBottom:"1px solid black",width:"276px"}})),t))))),r.a.createElement(De,null)))}}]),a}(r.a.Component),al=Object(f.b)((function(e){return{userSummary:e.fetchUserSummaryReducer.userSummary,loading:e.fetchUserSummaryReducer.loading,userType:e.fetchUserSummaryReducer.userType}}),(function(e){return Object(E.b)({userSummaryFetchData:Ln},e)}))(tl);function nl(){var e=localStorage.getItem("id");return function(t){fetch("".concat(v,"/api/employee/pending/").concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){var a=e.body,n=e.error;t(function(e){return{type:"FETCH_REQUEST_PENDING",payload:e}}({loading:!1,leaves:a})),null!==n&&console.error("error not null @employeeGetRequestPending: ",n)})).catch((function(e){console.error("error @employeeGetRequestPending: ",e)}))}}function ll(e,t){return function(a){fetch("".concat(v,"/api/employee/leave/").concat(t),{method:"DELETE"}).then((function(e){return e.json()})).then((function(n){n.body;var l=n.error,r=e.filter((function(e){return e.id!==t})),o={loading:!1,leaves:Object(Gt.a)(r)};a(function(e){return{type:"DELETE_REQUEST_PENDING",payload:e}}(o)),null!==l&&console.error("error not null @employeeDeleteRequest: ",l)})).catch((function(e){console.error("error @employeeDeleteRequest: ",e)}))}}function rl(){var e=localStorage.getItem("id");return function(t){fetch("".concat(v,"/api/employee/accept/").concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){var a=e.body,n=e.error;t(function(e){return{type:"FETCH_REQUEST_APPROVE",payload:e}}({loading:!1,leaves:a})),null!==n&&console.error("error not null @employeeGetRequestApprove: ",n)})).catch((function(e){console.error("error @employeeGetRequestApprove: ",e)}))}}function ol(){var e=localStorage.getItem("id");return function(t){fetch("".concat(v,"/api/employee/reject/").concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){var a=e.body,n=e.error;t(function(e){return{type:"FETCH_REQUEST_REJECT",payload:e}}({loading:!1,leaves:a})),null!==n&&console.error("error not null @employeeGetRequestReject: ",n)})).catch((function(e){console.error("error @employeeGetRequestReject: ",e)}))}}a(466);var sl,il,cl,ul=Q.a.Content,dl=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onSearchID=function(){var e=n.state.searchID,t=new RegExp(e,"gi");n.setState({filterDropdownIDVisible:!1,filtered:!!e,data:sl.map((function(a){return String(a.id).match(t)?Object(y.a)(Object(y.a)({},a),{},{ID:r.a.createElement("span",null,n.state.data.map((function(t,a){return String(t.id)===e?r.a.createElement("span",{key:a,className:"highlight"},t):t})),"}")}):null})).filter((function(e){return!!e}))})},n.onInputChangeID=function(e){n.setState({searchID:e.target.value})},n.editLeave=function(e,t){n.props.history.push({pathname:"/editrequest/"+t,state:{leave:e}})},n.employeeDeleteRequest=function(e,t){n.props.employeeDeleteRequest(e,t)},n.showDetail=function(e){n.setState({visible:!0,user:e})},n.onSelectChange=function(e){console.log("selected row: ",e)},n.handleCancel=function(){n.setState({visible:!1})},n.state={loading:!1,visible:!1,user:null,data:n.props.leaves,filterDropdownVisible:!1,filtered:!1,searchID:""},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log("------------ Employee-List-Pending-Request -------------------")}},{key:"componentWillReceiveProps",value:function(e){e.leaves!==this.props.leaves&&this.setState({data:e.leaves}),sl=e.leaves}},{key:"componentDidMount",value:function(){localStorage.getItem("token")?"employee"!==localStorage.getItem("role")&&"supervisor"!==localStorage.getItem("role")&&this.props.history.push("/"):this.props.history.push("/"),this.props.employeeGetRequestPending()}},{key:"onShowSizeChange",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.loading,l=[{title:"Request No.",dataIndex:"id",key:"id",width:90,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-id"},r.a.createElement(Z.a,{type:"number",ref:function(t){return e.searchInput=t},placeholder:"Search request id",value:this.state.searchID,onChange:this.onInputChangeID,onPressEnter:this.onSearchID}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearchID},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownIDVisible:this.state.filterDropdownIDVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownIDVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Employee ID",dataIndex:"employee_number",key:"employee_number",width:100},{title:"Name",dataIndex:"name",key:"name",width:150},{title:"Position",dataIndex:"position",key:"position",width:150},{title:"Email",dataIndex:"email",key:"email",width:150},{title:"Type Of Leave",dataIndex:"type_name",key:"type_name",width:150},{title:"From",dataIndex:"date_from",key:"date_from",width:120},{title:"To",dataIndex:"date_to",key:"date_to",width:120},{title:"Action",key:"action",width:300,render:function(t,a){return r.a.createElement("span",null,r.a.createElement(ee.a,{type:"primary",onClick:function(){return e.showDetail(a)}},"Detail"),r.a.createElement(ra.a,{type:"vertical"}),r.a.createElement(oa.a,{placement:"top",title:"Are you sure delete this leave request?",onConfirm:function(){e.employeeDeleteRequest(e.props.leaves,a.id),je.a.success("Leave request has been delete!")},okText:"Yes",cancelText:"No"},r.a.createElement(ee.a,{type:"danger"},"Delete")))}}];return this.props.loading?r.a.createElement(At,null):r.a.createElement(Q.a,null,r.a.createElement(ve,null),r.a.createElement(ul,{className:"container",style:{display:"flex",margin:"20px 16px 0",justifyContent:"center",paddingBottom:"606px"}},r.a.createElement("div",{style:{padding:20,background:"#fff"}},r.a.createElement("h3",null,"List of Pending Request"),r.a.createElement(sa.a,{columns:l,dataSource:this.state.data,rowKey:function(e){return e.id},onRowClick:this.onSelectChange,pagination:{className:"my-pagination",defaultCurrent:1,defaultPageSize:5,total:"".concat(this.state.data&&this.state.data.length),showSizeChanger:this.onShowSizeChange}})),r.a.createElement(Ua.a,{visible:a,title:"Detail Leave Request Pending",onCancel:this.handleCancel,style:{top:"20"},bodyStyle:{padding:"0"},width:"600px",footer:[r.a.createElement(ee.a,{key:"cancel",loading:n,onClick:this.handleCancel},"Return")]},r.a.createElement("div",{style:{padding:10,background:"#fff"}},r.a.createElement("table",null,r.a.createElement("thead",null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.name)),r.a.createElement("tr",null,r.a.createElement("td",null,"Gender"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.gender)),r.a.createElement("tr",null,r.a.createElement("td",null,"Email"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.email)),r.a.createElement("tr",null,r.a.createElement("td",null,"Type Of Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.type_name)),this.state.user&&""!==this.state.user.reason?r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.reason)):r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"From"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_from)),r.a.createElement("tr",null,r.a.createElement("td",null,"To"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_to)),this.state.user&&"{}"!==this.state.user.half_dates?r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.half_dates.substring(1,this.state.user.half_dates.length-1))):r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"Back On"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.back_on)),r.a.createElement("tr",null,r.a.createElement("td",null,"Total Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.total," days")),r.a.createElement("tr",null,r.a.createElement("td",null,"Leave Balance"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.leave_remaining)),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Address"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_address)),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Number"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_number)),r.a.createElement("tr",null,r.a.createElement("td",null,"Status"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.status))))))),r.a.createElement(De,null))}}]),a}(l.Component),ml=Object(f.b)((function(e){return{loading:e.fetchEmployeeReducer.loading,leaves:e.fetchEmployeeReducer.leaves}}),(function(e){return Object(E.b)({employeeGetRequestPending:nl,employeeDeleteRequest:ll},e)}))(dl),hl=(a(467),Q.a.Content),pl=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onSearchID=function(){var e=n.state.searchID,t=new RegExp(e,"gi");n.setState({filterDropdownIDVisible:!1,filtered:!!e,data:il.map((function(a){return String(a.id).match(t)?Object(y.a)(Object(y.a)({},a),{},{ID:r.a.createElement("span",null,n.state.data.map((function(t,a){return String(t.id)===e?r.a.createElement("span",{key:a,className:"highlight"},t):t})),"}")}):null})).filter((function(e){return!!e}))})},n.onInputChangeID=function(e){n.setState({searchID:e.target.value})},n.showDetail=function(e){n.setState({visible:!0,user:e})},n.onSelectChange=function(e){console.log("selected row: ",e)},n.handleCancel=function(){n.setState({visible:!1})},n.state={loading:!1,visible:!1,user:null,data:n.props.leaves,filterDropdownVisible:!1,filtered:!1,searchID:""},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log("------------ Employee-List-Approve-Request -------------------")}},{key:"componentWillReceiveProps",value:function(e){e.leaves!==this.props.leaves&&this.setState({data:e.leaves}),il=e.leaves}},{key:"componentDidMount",value:function(){localStorage.getItem("token")?"employee"!==localStorage.getItem("role")&&"supervisor"!==localStorage.getItem("role")&&this.props.history.push("/"):this.props.history.push("/"),this.props.employeeGetRequestApprove()}},{key:"onShowSizeChange",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.loading,l=[{title:"Request No.",dataIndex:"id",key:"id",width:90,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-id"},r.a.createElement(Z.a,{type:"number",ref:function(t){return e.searchInput=t},placeholder:"Search request id",value:this.state.searchID,onChange:this.onInputChangeID,onPressEnter:this.onSearchID}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearchID},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownIDVisible:this.state.filterDropdownIDVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownIDVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Employee ID",dataIndex:"employee_number",key:"employee_number",width:100},{title:"Name",dataIndex:"name",key:"name",width:150},{title:"Position",dataIndex:"position",key:"position",width:150},{title:"Email",dataIndex:"email",key:"email",width:150},{title:"Type Of Leave",dataIndex:"type_name",key:"type_name",width:150},{title:"From",dataIndex:"date_from",key:"date_from",width:120},{title:"To",dataIndex:"date_to",key:"date_to",width:120},{title:"Action",key:"action",width:100,render:function(t,a){return r.a.createElement("span",null,r.a.createElement(ee.a,{type:"primary",onClick:function(){return e.showDetail(a)}},"Detail"))}}];return this.props.loading?r.a.createElement(At,null):r.a.createElement(Q.a,null,r.a.createElement(ve,null),r.a.createElement(hl,{className:"container",style:{display:"flex",margin:"20px 16px 0",justifyContent:"center",paddingBottom:"606px"}},r.a.createElement("div",{style:{padding:20,background:"#fff"}},r.a.createElement("h3",null,"List of Approve Request"),r.a.createElement(sa.a,{columns:l,dataSource:this.state.data,rowKey:function(e){return e.id},onRowClick:this.onSelectChange,pagination:{className:"my-pagination",defaultCurrent:1,defaultPageSize:5,total:"".concat(this.state.data&&this.state.data.length),showSizeChanger:this.onShowSizeChange}})),r.a.createElement(Ua.a,{visible:a,title:"Detail Leave Request Approved",onCancel:this.handleCancel,style:{top:"20"},bodyStyle:{padding:"0"},width:"600px",footer:[r.a.createElement(ee.a,{key:"cancel",loading:n,onClick:this.handleCancel},"Return")]},r.a.createElement("div",{style:{padding:10,background:"#fff"}},r.a.createElement("table",null,r.a.createElement("thead",null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.name)),r.a.createElement("tr",null,r.a.createElement("td",null,"Gender"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.gender)),r.a.createElement("tr",null,r.a.createElement("td",null,"Email"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.email)),r.a.createElement("tr",null,r.a.createElement("td",null,"Type Of Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.type_name)),this.state.user&&""!==this.state.user.reason?r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.reason)):r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"From"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_from)),r.a.createElement("tr",null,r.a.createElement("td",null,"To"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_to)),this.state.user&&"{}"!==this.state.user.half_dates?r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.half_dates.substring(1,this.state.user.half_dates.length-1))):r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"Back On"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.back_on)),r.a.createElement("tr",null,r.a.createElement("td",null,"Total Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.total," day(s)")),r.a.createElement("tr",null,r.a.createElement("td",null,"Before Leave Balance"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.before_leave_balance," days")),r.a.createElement("tr",null,r.a.createElement("td",null,"After Leave Balance"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.after_leave_balance," days")),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Address"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_address)),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Number"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_number)),r.a.createElement("tr",null,r.a.createElement("td",null,"Status"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.status))))))),r.a.createElement(De,null))}}]),a}(l.Component),fl=Object(f.b)((function(e){return{loading:e.fetchEmployeeReducer.loading,leaves:e.fetchEmployeeReducer.leaves}}),(function(e){return Object(E.b)({employeeGetRequestApprove:rl},e)}))(pl),El=(a(468),Q.a.Content),gl=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onSearchID=function(){var e=n.state.searchID,t=new RegExp(e,"gi");n.setState({filterDropdownIDVisible:!1,filtered:!!e,data:cl.map((function(a){return String(a.id).match(t)?Object(y.a)(Object(y.a)({},a),{},{ID:r.a.createElement("span",null,n.state.data.map((function(t,a){return String(t.id)===e?r.a.createElement("span",{key:a,className:"highlight"},t):t})),"}")}):null})).filter((function(e){return!!e}))})},n.onInputChangeID=function(e){n.setState({searchID:e.target.value})},n.showDetail=function(e){n.setState({visible:!0,user:e})},n.employeeDeleteRequest=function(e,t){n.props.employeeDeleteRequest(e,t)},n.onSelectChange=function(e){console.log("selected row: ",e)},n.handleCancel=function(){n.setState({visible:!1})},n.state={loading:!1,visible:!1,user:null,data:n.props.leaves,filterDropdownVisible:!1,filtered:!1,searchID:""},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){console.log("------------ Employee-List-Reject-Request -------------------")}},{key:"componentWillReceiveProps",value:function(e){e.leaves!==this.props.leaves&&this.setState({data:e.leaves}),cl=e.leaves}},{key:"componentDidMount",value:function(){localStorage.getItem("token")?"employee"!==localStorage.getItem("role")&&"supervisor"!==localStorage.getItem("role")&&this.props.history.push("/"):this.props.history.push("/"),this.props.employeeGetRequestReject()}},{key:"onShowSizeChange",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.loading,l=[{title:"Request No.",dataIndex:"id",key:"id",width:90,filterDropdown:r.a.createElement("div",{className:"custom-filter-dropdown-id"},r.a.createElement(Z.a,{type:"number",ref:function(t){return e.searchInput=t},placeholder:"Search request id",value:this.state.searchID,onChange:this.onInputChangeID,onPressEnter:this.onSearchID}),r.a.createElement(ee.a,{type:"primary",onClick:this.onSearchID},"Search")),filterIcon:r.a.createElement(X.a,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownIDVisible:this.state.filterDropdownIDVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownIDVisible:t},(function(){return e.searchInput&&e.searchInput.focus()}))}},{title:"Employee ID",dataIndex:"employee_number",key:"employee_number",width:100},{title:"Name",dataIndex:"name",key:"name",width:150},{title:"Position",dataIndex:"position",key:"position",width:150},{title:"Email",dataIndex:"email",key:"email",width:150},{title:"Type Of Leave",dataIndex:"type_name",key:"type_name",width:150},{title:"From",dataIndex:"date_from",key:"date_from",width:120},{title:"To",dataIndex:"date_to",key:"date_to",width:120},{title:"Action",key:"action",width:200,render:function(t,a){return r.a.createElement("span",null,r.a.createElement(ee.a,{type:"primary",onClick:function(){return e.showDetail(a)}},"Detail"),r.a.createElement(ra.a,{type:"vertical"}),r.a.createElement(oa.a,{placement:"top",title:"Are you sure delete this leave request?",onConfirm:function(){e.employeeDeleteRequest(e.props.leaves,a.id),je.a.success("Leave request has been delete!")},okText:"Yes",cancelText:"No"},r.a.createElement(ee.a,{type:"danger"},"Delete")))}}];return this.props.loading?r.a.createElement(At,null):r.a.createElement(Q.a,null,r.a.createElement(ve,null),r.a.createElement(El,{className:"container",style:{display:"flex",margin:"20px 16px 0",justifyContent:"center",paddingBottom:"606px"}},r.a.createElement("div",{style:{padding:20,background:"#fff"}},r.a.createElement("h3",null,"List of Reject Request"),r.a.createElement(sa.a,{columns:l,dataSource:this.state.data,rowKey:function(e){return e.id},onRowClick:this.onSelectChange,pagination:{className:"my-pagination",defaultCurrent:1,defaultPageSize:5,total:"".concat(this.state.data&&this.state.data.length),showSizeChanger:this.onShowSizeChange}})),r.a.createElement(Ua.a,{visible:a,title:"Detail Leave Request Rejected",onCancel:this.handleCancel,style:{top:"20"},bodyStyle:{padding:"0"},width:"600px",footer:[r.a.createElement(ee.a,{key:"cancel",loading:n,onClick:this.handleCancel},"Return")]},r.a.createElement("div",{style:{padding:10,background:"#fff"}},r.a.createElement("table",null,r.a.createElement("thead",null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.name)),r.a.createElement("tr",null,r.a.createElement("td",null,"Gender"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.gender)),r.a.createElement("tr",null,r.a.createElement("td",null,"Email"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.email)),r.a.createElement("tr",null,r.a.createElement("td",null,"Type Of Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.type_name)),this.state.user&&""!==this.state.user.reason?r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.reason)):r.a.createElement("tr",null,r.a.createElement("td",null,"Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"From"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_from)),r.a.createElement("tr",null,r.a.createElement("td",null,"To"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.date_to)),this.state.user&&"{}"!==this.state.user.half_dates?r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.half_dates.substring(1,this.state.user.half_dates.length-1))):r.a.createElement("tr",null,r.a.createElement("td",null,"Half Day"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0-")),r.a.createElement("tr",null,r.a.createElement("td",null,"Back On"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.back_on)),r.a.createElement("tr",null,r.a.createElement("td",null,"Total Leave"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.total," day(s)")),r.a.createElement("tr",null,r.a.createElement("td",null,"Leave Balance"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.leave_remaining," days")),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Address"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_address)),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact Number"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.contact_number)),r.a.createElement("tr",null,r.a.createElement("td",null,"Reject Reason"),r.a.createElement("td",null,"\xa0:"),r.a.createElement("td",null,"\xa0",this.state.user&&this.state.user.reject_reason))))))),r.a.createElement(De,null))}}]),a}(l.Component),yl=Object(f.b)((function(e){return{loading:e.fetchEmployeeReducer.loading,leaves:e.fetchEmployeeReducer.leaves}}),(function(e){return Object(E.b)({employeeGetRequestReject:ol,employeeDeleteRequest:ll},e)}))(gl),vl=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(f.a,{store:B},r.a.createElement("div",{className:"App"},r.a.createElement(m.a,null,r.a.createElement(h.a,null,r.a.createElement(p.a,{exact:!0,path:"/",component:se}),r.a.createElement(p.a,{exact:!0,path:"/login",component:se}),r.a.createElement(p.a,{exact:!0,path:"/reset-password",component:Ae}),r.a.createElement(p.a,{exact:!0,path:"/admin",component:ua}),r.a.createElement(p.a,{exact:!0,path:"/admin/register-user",component:_a}),r.a.createElement(p.a,{exact:!0,path:"/admin/edit-user/:id",component:Pa}),r.a.createElement(p.a,{exact:!0,path:"/admin/edit-balance/:id",component:Ha}),r.a.createElement(p.a,{exact:!0,path:"/admin/list-pending-request",component:za}),r.a.createElement(p.a,{exact:!0,path:"/admin/list-approve-request",component:Xa}),r.a.createElement(p.a,{exact:!0,path:"/admin/list-reject-request",component:tn}),r.a.createElement(p.a,{path:"/admin/edit-password",component:on}),r.a.createElement(p.a,{exact:!0,path:"/employee",component:al}),r.a.createElement(p.a,{exact:!0,path:"/profile",component:ke}),r.a.createElement(p.a,{path:"/profile/:id",component:Ue}),r.a.createElement(p.a,{exact:!0,path:"/employee/leave-request",component:Et}),r.a.createElement(p.a,{exact:!0,path:"/admin/leave-request",component:xt}),r.a.createElement(p.a,{exact:!0,path:"/editrequest/:id",component:Ut}),r.a.createElement(p.a,{exact:!0,path:"/employee/list-pending-request",component:ml}),r.a.createElement(p.a,{exact:!0,path:"/employee/list-approve-request",component:fl}),r.a.createElement(p.a,{exact:!0,path:"/employee/list-reject-request",component:yl}),r.a.createElement(p.a,{exact:!0,path:"/supervisor",component:Yn}),r.a.createElement(p.a,{exact:!0,path:"/supervisor/list-pending-request",component:zn}),r.a.createElement(p.a,{exact:!0,path:"/supervisor/list-approve-request",component:Qn}),r.a.createElement(p.a,{exact:!0,path:"/supervisor/list-reject-request",component:Zn}),r.a.createElement(p.a,{exact:!0,path:"/director",component:mn}),r.a.createElement(p.a,{exact:!0,path:"/director/list-pending-request",component:Sn}),r.a.createElement(p.a,{exact:!0,path:"/director/list-approve-request",component:_n}),r.a.createElement(p.a,{exact:!0,path:"/director/list-reject-request",component:In}),r.a.createElement(p.a,{component:H})))))}}]),a}(l.Component),bl=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Dl(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(r.a.createElement(vl,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");bl?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Dl(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Dl(e)}))}}()}},[[231,1,2]]]);
//# sourceMappingURL=main.2d573efc.chunk.js.map